(function(e,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],c):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=c(e.Vue,e.dateFns))})(this,function(e,c){"use strict";function ze(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}ze.compatConfig={MODE:3};function Gt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Gt.compatConfig={MODE:3};function ot(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}ot.compatConfig={MODE:3};function lt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}lt.compatConfig={MODE:3};function st(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}st.compatConfig={MODE:3};function it(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}it.compatConfig={MODE:3};function ut(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ut.compatConfig={MODE:3};function ct(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qt={exports:{}};(function(t){function r(a){return a&&a.__esModule?a:{default:a}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(qt);var vn=qt.exports,dt={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var s=Number(n);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}t.exports=r.default})(dt,dt.exports);var An=dt.exports;const Nn=ct(An);var ft={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var s=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return s.setUTCFullYear(n.getFullYear()),n.getTime()-s.getTime()}t.exports=r.default})(ft,ft.exports);var Pn=ft.exports;const Zt=ct(Pn);function _n(t,r){var a=Yn(r);return a.formatToParts?Rn(a,t):Vn(a,t)}var En={year:0,month:1,day:2,hour:3,minute:4,second:5};function Rn(t,r){try{for(var a=t.formatToParts(r),n=[],s=0;s<a.length;s++){var l=En[a[s].type];l>=0&&(n[l]=parseInt(a[s].value,10))}return n}catch(m){if(m instanceof RangeError)return[NaN];throw m}}function Vn(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var mt={};function Yn(t){if(!mt[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";mt[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return mt[t]}function pt(t,r,a,n,s,l,m){var b=new Date(0);return b.setUTCFullYear(t,r,a),b.setUTCHours(n,s,l,m),b}var Jt=36e5,On=6e4,gt={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function ht(t,r,a){var n,s;if(!t||(n=gt.timezoneZ.exec(t),n))return 0;var l;if(n=gt.timezoneHH.exec(t),n)return l=parseInt(n[1],10),Xt(l)?-(l*Jt):NaN;if(n=gt.timezoneHHMM.exec(t),n){l=parseInt(n[1],10);var m=parseInt(n[2],10);return Xt(l,m)?(s=Math.abs(l)*Jt+m*On,l>0?-s:s):NaN}if(Ln(t)){r=new Date(r||Date.now());var b=a?r:In(r),w=yt(b,t),S=a?w:zn(r,w,t);return-S}return NaN}function In(t){return pt(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function yt(t,r){var a=_n(t,r),n=pt(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),s=t.getTime(),l=s%1e3;return s-=l>=0?l:1e3+l,n-s}function zn(t,r,a){var n=t.getTime(),s=n-r,l=yt(new Date(s),a);if(r===l)return r;s-=l-r;var m=yt(new Date(s),a);return l===m?l:Math.max(l,m)}function Xt(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var Qt={};function Ln(t){if(Qt[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Qt[t]=!0,!0}catch{return!1}}var Ft=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,kt=36e5,en=6e4,Hn=2,he={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Ft};function wt(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?Hn:Nn(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=Kn(t),l=Un(s.date,n),m=l.year,b=l.restDateString,w=Wn(b,m);if(isNaN(w))return new Date(NaN);if(w){var S=w.getTime(),M=0,$;if(s.time&&(M=xn(s.time),isNaN(M)))return new Date(NaN);if(s.timeZone||a.timeZone){if($=ht(s.timeZone||a.timeZone,new Date(S+M)),isNaN($))return new Date(NaN)}else $=Zt(new Date(S+M)),$=Zt(new Date(S+M+$));return new Date(S+M+$)}else return new Date(NaN)}function Kn(t){var r={},a=he.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=he.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var s=he.timeZone.exec(n);s?(r.time=n.replace(s[1],""),r.timeZone=s[1].trim()):r.time=n}return r}function Un(t,r){var a=he.YYY[r],n=he.YYYYY[r],s;if(s=he.YYYY.exec(t)||n.exec(t),s){var l=s[1];return{year:parseInt(l,10),restDateString:t.slice(l.length)}}if(s=he.YY.exec(t)||a.exec(t),s){var m=s[1];return{year:parseInt(m,10)*100,restDateString:t.slice(m.length)}}return{year:null}}function Wn(t,r){if(r===null)return null;var a,n,s,l;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=he.MM.exec(t),a)return n=new Date(0),s=parseInt(a[1],10)-1,rn(r,s)?(n.setUTCFullYear(r,s),n):new Date(NaN);if(a=he.DDD.exec(t),a){n=new Date(0);var m=parseInt(a[1],10);return qn(r,m)?(n.setUTCFullYear(r,0,m),n):new Date(NaN)}if(a=he.MMDD.exec(t),a){n=new Date(0),s=parseInt(a[1],10)-1;var b=parseInt(a[2],10);return rn(r,s,b)?(n.setUTCFullYear(r,s,b),n):new Date(NaN)}if(a=he.Www.exec(t),a)return l=parseInt(a[1],10)-1,an(r,l)?tn(r,l):new Date(NaN);if(a=he.WwwD.exec(t),a){l=parseInt(a[1],10)-1;var w=parseInt(a[2],10)-1;return an(r,l,w)?tn(r,l,w):new Date(NaN)}return null}function xn(t){var r,a,n;if(r=he.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),bt(a)?a%24*kt:NaN;if(r=he.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),bt(a,n)?a%24*kt+n*en:NaN;if(r=he.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var s=parseFloat(r[3].replace(",","."));return bt(a,n,s)?a%24*kt+n*en+s*1e3:NaN}return null}function tn(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var s=n.getUTCDay()||7,l=r*7+a+1-s;return n.setUTCDate(n.getUTCDate()+l),n}var jn=[31,28,31,30,31,30,31,31,30,31,30,31],Gn=[31,29,31,30,31,30,31,31,30,31,30,31];function nn(t){return t%400===0||t%4===0&&t%100!==0}function rn(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=nn(t);if(n&&a>Gn[r]||!n&&a>jn[r])return!1}return!0}function qn(t,r){if(r<1)return!1;var a=nn(t);return!(a&&r>366||!a&&r>365)}function an(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function bt(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var Mt={exports:{}},Dt={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,s){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l]);return n}t.exports=r.default})(Dt,Dt.exports);var Zn=Dt.exports;(function(t,r){var a=vn.default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var n=a(Zn);function s(l){return(0,n.default)({},l)}t.exports=r.default})(Mt,Mt.exports);var Jn=Mt.exports;const Xn=ct(Jn);function Qn(t,r,a){var n=wt(t,a),s=ht(r,n,!0),l=new Date(n.getTime()-s),m=new Date(0);return m.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),m.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),m}function Fn(t,r,a){if(typeof t=="string"&&!t.match(Ft)){var n=Xn(a);return n.timeZone=r,wt(t,n)}var s=wt(t,a),l=pt(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()).getTime(),m=ht(r,new Date(l));return new Date(l+m)}function on(t){return r=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${r}T00:00:00+00:00`)).slice(0,2)}function er(t){return r=>c.format(new Date(`2017-01-0${r}T00:00:00+00:00`),"EEEEEE",{locale:t})}const tr=(t,r,a)=>{const n=[1,2,3,4,5,6,7];let s;if(t!==null)try{s=n.map(er(t))}catch{s=n.map(on(r))}else s=n.map(on(r));const l=s.slice(0,a),m=s.slice(a+1,s.length);return[s[a]].concat(...m).concat(...l)},Ct=(t,r)=>{const a=[];for(let n=+t[0];n<=+t[1];n++)a.push({value:+n,text:`${n}`});return r?a.reverse():a},ln=(t,r,a)=>{const n=[1,2,3,4,5,6,7,8,9,10,11,12].map(l=>{const m=l<10?`0${l}`:l;return new Date(`2017-${m}-01T00:00:00+00:00`)});if(t!==null)try{const l=a==="long"?"MMMM":"MMM";return n.map((m,b)=>{const w=c.format(m,l,{locale:t});return{text:w.charAt(0).toUpperCase()+w.substring(1),value:b}})}catch{}const s=new Intl.DateTimeFormat(r,{month:a,timeZone:"UTC"});return n.map((l,m)=>{const b=s.format(l);return{text:b.charAt(0).toUpperCase()+b.substring(1),value:m}})},nr=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ce=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},rr=t=>Object.assign({type:"dot"},t),sn=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Ze={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ie=t=>t,un=t=>t===0?t:!t||isNaN(+t)?null:+t,cn=t=>t===null,ar=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},or=t=>{const r=[],a=n=>n.filter(s=>s);for(let n=0;n<t.length;n+=3){const s=[t[n],t[n+1],t[n+2]];r.push(a(s))}return r},Le=(t,r,a)=>{const n=a??a===0,s=r??r===0;if(!n&&!s)return!1;const l=+a,m=+r;return n&&s?+t>l||+t<m:n?+t>l:s?+t<m:!1},Ve=(t,r)=>or(t).map(a=>a.map(n=>{const{active:s,disabled:l,isBetween:m}=r(n);return{...n,active:s,disabled:l,className:{dp__overlay_cell_active:s,dp__overlay_cell:!s,dp__overlay_cell_disabled:l,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:l&&s,dp__cell_in_between:m}}})),dn=(t,r,a,n,s)=>{const l=c.parse(t,r.slice(0,t.length),new Date);return c.isValid(l)&&c.isDate(l)?n||s?l:c.set(l,{hours:+a.hours,minutes:+(a==null?void 0:a.minutes),seconds:+(a==null?void 0:a.seconds),milliseconds:0}):null},lr=(t,r,a,n,s)=>{const l=Array.isArray(a)?a[0]:a;if(typeof r=="string")return dn(t,r,l,n,s);if(Array.isArray(r)){let m=null;for(const b of r)if(m=dn(t,b,l,n,s),m)break;return m}return typeof r=="function"?r(t):null},v=t=>t?new Date(t):new Date,sr=(t,r,a)=>{if(r){const s=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getDate().toString().padStart(2,"0"),m=t.getHours().toString().padStart(2,"0"),b=t.getMinutes().toString().padStart(2,"0"),w=a?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${s}-${l}T${m}:${b}:${w}.000Z`}const n=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(n).toISOString()},ke=t=>{let r=v(JSON.parse(JSON.stringify(t)));return r=c.setHours(r,0),r=c.setMinutes(r,0),r=c.setSeconds(r,0),r=c.setMilliseconds(r,0),r},Be=(t,r,a,n)=>{let s=t?v(t):v();return(r||r===0)&&(s=c.setHours(s,+r)),(a||a===0)&&(s=c.setMinutes(s,+a)),(n||n===0)&&(s=c.setSeconds(s,+n)),c.setMilliseconds(s,0)},fe=(t,r)=>!t||!r?!1:c.isBefore(ke(t),ke(r)),ae=(t,r)=>!t||!r?!1:c.isEqual(ke(t),ke(r)),ge=(t,r)=>!t||!r?!1:c.isAfter(ke(t),ke(r)),St=(t,r,a)=>t!=null&&t[0]&&(t!=null&&t[1])?ge(a,t[0])&&fe(a,t[1]):t!=null&&t[0]&&r?ge(a,t[0])&&fe(a,r)||fe(a,t[0])&&ge(a,r):!1,be=t=>{const r=c.set(new Date(t),{date:1});return ke(r)},$t=(t,r,a)=>r&&(a||a===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===r?[n,a]:[n,isNaN(+t[n])?void 0:+t[n]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Ne=t=>({hours:c.getHours(t),minutes:c.getMinutes(t),seconds:c.getSeconds(t)}),fn=(t,r)=>{if(r){const a=c.getYear(v(r));if(a>t)return 12;if(a===t)return c.getMonth(v(r))}},mn=(t,r)=>{if(r){const a=c.getYear(v(r));return a<t?-1:a===t?c.getMonth(v(r)):void 0}},Ye=t=>{if(t)return c.getYear(v(t))},Ce=(t,r)=>r?Qn(t,r):t,ir=(t,r)=>r?Fn(t,r):t,pn=t=>t instanceof Date?t:c.parseISO(t),gn=(t,r)=>{const a=ge(t,r)?r:t,n=ge(r,t)?r:t;return c.eachDayOfInterval({start:a,end:n})},ur=t=>{const r=c.addMonths(t,1);return{month:c.getMonth(r),year:c.getYear(r)}},Je=(t,r,a)=>{const n=c.startOfWeek(Ce(t,r),{weekStartsOn:+a}),s=c.endOfWeek(Ce(t,r),{weekStartsOn:+a});return[n,s]},hn=(t,r)=>{const a={hours:c.getHours(v()),minutes:c.getMinutes(v()),seconds:r?c.getSeconds(v()):0};return Object.assign(a,t)},Te=(t,r,a)=>[c.set(v(t),{date:1}),c.set(v(),{month:r,year:a,date:1})],Se=(t,r,a)=>{let n=t?v(t):v();return(r||r===0)&&(n=c.setMonth(n,r)),a&&(n=c.setYear(n,a)),n},yn=(t,r,a,n,s)=>{if(!n||s&&!r||!s&&!a)return!1;const l=s?c.addMonths(t,1):c.subMonths(t,1),m=[c.getMonth(l),c.getYear(l)];return s?!dr(...m,r):!cr(...m,a)},cr=(t,r,a)=>fe(...Te(a,t,r))||ae(...Te(a,t,r)),dr=(t,r,a)=>ge(...Te(a,t,r))||ae(...Te(a,t,r)),kn=(t,r,a,n,s,l)=>{if(typeof r=="function")return r(t);const m=a?{locale:a}:void 0;return Array.isArray(t)?`${c.format(t[0],l,m)}${s&&!t[1]?"":n}${t[1]?c.format(t[1],l,m):""}`:c.format(t,l,m)},Oe=t=>{if(t)return null;throw new Error(Ze.prop("partial-range"))},Xe=(t,r)=>{if(r)return t();throw new Error(Ze.prop("range"))},Bt=t=>Array.isArray(t)?c.isValid(t[0])&&(t[1]?c.isValid(t[1]):!0):t?c.isValid(t):!1,fr=t=>c.set(v(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Tt=(t,r,a,n)=>{if(!t)return!0;if(n){const s=a==="max"?c.isBefore(t,r):c.isAfter(t,r),l={seconds:0,milliseconds:0};return s||c.isEqual(c.set(t,l),c.set(r,l))}return a==="max"?t.getTime()<=r.getTime():t.getTime()>=r.getTime()},wn=(t,r,a,n,s)=>{const l=t?fr(t):v(r);return Array.isArray(n)?Tt(n[0],l,a,!!r)&&Tt(n[1],l,a,!!r)&&s:Tt(n,l,a,!!r)&&s},vt=t=>c.set(v(),Ne(t)),mr=(t,r)=>Array.isArray(t)?t.map(a=>v(a)).filter(a=>c.getYear(v(a))===r).map(a=>c.getMonth(a)):[],He=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),bn=()=>{const t=n=>{He.menuFocused=n},r=n=>{He.shiftKeyInMenu!==n&&(He.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:He.shiftKeyInMenu,menuFocused:He.menuFocused})),setMenuFocused:t,setShiftKey:r}},oe=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),At=e.ref(null),Qe=e.ref(!1),Nt=e.ref(!1),Pt=e.ref(!1),_t=e.ref(!1),ye=e.ref(0),me=e.ref(0),ve=()=>{const t=e.computed(()=>Qe.value?[...oe.selectionGrid,oe.actionRow].filter(y=>y.length):Nt.value?[...oe.timePicker[0],...oe.timePicker[1],_t.value?[]:[At.value],oe.actionRow].filter(y=>y.length):Pt.value?[...oe.monthPicker,oe.actionRow]:[oe.monthYear,...oe.calendar,oe.time,oe.actionRow].filter(y=>y.length)),r=y=>{ye.value=y?ye.value+1:ye.value-1;let _=null;t.value[me.value]&&(_=t.value[me.value][ye.value]),_||(ye.value=y?ye.value-1:ye.value+1)},a=y=>{if(me.value===0&&!y||me.value===t.value.length&&y)return;me.value=y?me.value+1:me.value-1,t.value[me.value]?t.value[me.value]&&!t.value[me.value][ye.value]&&ye.value!==0&&(ye.value=t.value[me.value].length-1):me.value=y?me.value-1:me.value+1},n=y=>{let _=null;t.value[me.value]&&(_=t.value[me.value][ye.value]),_?_.focus({preventScroll:!Qe.value}):ye.value=y?ye.value-1:ye.value+1},s=()=>{r(!0),n(!0)},l=()=>{r(!1),n(!1)},m=()=>{a(!1),n(!0)},b=()=>{a(!0),n(!0)},w=(y,_)=>{oe[_]=y},S=(y,_)=>{oe[_]=y},M=()=>{ye.value=0,me.value=0};return{buildMatrix:w,buildMultiLevelMatrix:S,setTimePickerBackRef:y=>{At.value=y},setSelectionGrid:y=>{Qe.value=y,M(),y||(oe.selectionGrid=[])},setTimePicker:(y,_=!1)=>{Nt.value=y,_t.value=_,M(),y||(oe.timePicker[0]=[],oe.timePicker[1]=[])},setTimePickerElements:(y,_=0)=>{oe.timePicker[_]=y},arrowRight:s,arrowLeft:l,arrowUp:m,arrowDown:b,clearArrowNav:()=>{oe.monthYear=[],oe.calendar=[],oe.time=[],oe.actionRow=[],oe.selectionGrid=[],oe.timePicker[0]=[],oe.timePicker[1]=[],Qe.value=!1,Nt.value=!1,_t.value=!1,Pt.value=!1,M(),At.value=null},setMonthPicker:y=>{Pt.value=y,M()},refSets:oe}},Mn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),pr=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),Dn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,gr=t=>{const r=typeof t=="object"&&t,a={static:!0,solo:!1};if(!t)return{...a,count:Dn(!1)};const n=r?t:{},s=r?n.count??!0:t,l=Dn(s);return Object.assign(a,n,{count:l})},hr=(t,r,a)=>t||(typeof a=="string"?a:r),yr=t=>typeof t=="boolean"?t?Mn({}):!1:Mn(t),kr=t=>{const r={enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "};return typeof t=="object"?{...r,...t??{},enabled:!0}:{...r,enabled:t}},wr=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),br=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Mr=t=>{const r={input:!1};return typeof t=="object"?{...r,...t??{},enabled:!0}:{enabled:t,...r}},pe=t=>{const r=()=>{const H=t.enableSeconds?":ss":"";return t.is24?`HH:mm${H}`:`hh:mm${H} aa`},a=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?r():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${r()}`:"MM/dd/yyyy",n=H=>hn(H,t.enableSeconds),s=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[n(t.startTime[0]),n(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?n(t.startTime):null,l=e.computed(()=>gr(t.multiCalendars)),m=e.computed(()=>s()),b=e.computed(()=>pr(t.ariaLabels)),w=e.computed(()=>wr(t.filters)),S=e.computed(()=>yr(t.transitions)),M=e.computed(()=>br(t.actionRow)),$=e.computed(()=>hr(t.previewFormat,t.format,a())),E=e.computed(()=>kr(t.textInput)),x=e.computed(()=>Mr(t.inline));return{defaultedTransitions:S,defaultedMultiCalendars:l,defaultedStartTime:m,defaultedAriaLabels:b,defaultedFilters:w,defaultedActionRow:M,defaultedPreviewFormat:$,defaultedTextInput:E,defaultedInline:x,getDefaultPattern:a,getDefaultStartTime:s}},Dr=(t,r,a)=>{const n=e.ref(),{defaultedTextInput:s,getDefaultPattern:l}=pe(r),m=e.ref(""),b=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(b,()=>{V()});const w=o=>ir(o,r.timezone),S=o=>Ce(o,r.timezone),M=(o,I)=>kn(o,r.format,r.formatLocale,s.value.rangeSeparator,r.modelAuto,I??l()),$=o=>{const I=o??v();return r.modelType?D(I):{hours:c.getHours(I),minutes:c.getMinutes(I),seconds:r.enableSeconds?c.getSeconds(I):0}},E=o=>r.modelType?D(o):{month:c.getMonth(o),year:c.getYear(o)},x=o=>Array.isArray(o)?Xe(()=>[c.setYear(v(),o[0]),o[1]?c.setYear(v(),o[1]):Oe(r.partialRange)],r.range):c.setYear(v(),+o),H=(o,I)=>(typeof o=="string"||typeof o=="number")&&r.modelType?f(o):I,Z=o=>Array.isArray(o)?[H(o[0],Be(null,+o[0].hours,+o[0].minutes,o[0].seconds)),H(o[1],Be(null,+o[1].hours,+o[1].minutes,o[1].seconds))]:H(o,Be(null,o.hours,o.minutes,o.seconds)),R=o=>Array.isArray(o)?r.multiDates?o.map(I=>H(I,Se(null,+I.month,+I.year))):Xe(()=>[H(o[0],Se(null,+o[0].month,+o[0].year)),H(o[1],o[1]?Se(null,+o[1].month,+o[1].year):Oe(r.partialRange))],r.range):H(o,Se(null,+o.month,+o.year)),y=o=>{if(Array.isArray(o))return o.map(I=>f(I));throw new Error(Ze.dateArr("multi-dates"))},_=o=>{if(Array.isArray(o))return[v(o[0]),v(o[1])];throw new Error(Ze.dateArr("week-picker"))},z=o=>r.modelAuto?Array.isArray(o)?[f(o[0]),f(o[1])]:r.autoApply?[f(o)]:[f(o),null]:Array.isArray(o)?Xe(()=>[f(o[0]),o[1]?f(o[1]):Oe(r.partialRange)],r.range):f(o),L=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(Oe(r.partialRange))},B=()=>{const o=n.value;return[D(o[0]),o[1]?D(o[1]):Oe(r.partialRange)]},j=()=>n.value[1]?B():D(ie(n.value[0])),W=()=>(n.value||[]).map(o=>D(o)),ee=()=>(L(),r.modelAuto?j():r.multiDates?W():Array.isArray(n.value)?Xe(()=>B(),r.range):D(ie(n.value))),g=o=>!o||Array.isArray(o)&&!o.length?null:r.timePicker?Z(ie(o)):r.monthPicker?R(ie(o)):r.yearPicker?x(ie(o)):r.multiDates?y(ie(o)):r.weekPicker?_(ie(o)):z(ie(o)),C=o=>{const I=g(o);Bt(ie(I))?(n.value=ie(I),V()):(n.value=null,m.value="")},A=()=>{const o=I=>c.format(I,s.value.format);return`${o(n.value[0])} ${s.value.rangeSeparator} ${n.value[1]?o(n.value[1]):""}`},K=()=>a.value&&n.value?Array.isArray(n.value)?A():c.format(n.value,s.value.format):M(n.value),p=()=>n.value?r.multiDates?n.value.map(o=>M(o)).join("; "):s.value.enabled&&typeof s.value.format=="string"?K():M(n.value):"",V=()=>{!r.format||typeof r.format=="string"||s.value.enabled&&typeof s.value.format=="string"?m.value=p():m.value=r.format(n.value)},f=o=>{if(r.utc){const I=new Date(o);return r.utc==="preserve"?new Date(I.getTime()+I.getTimezoneOffset()*6e4):I}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?S(new Date(o)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?c.parse(o,l(),new Date):S(c.parse(o,r.modelType,new Date)):S(new Date(o))},D=o=>o?r.utc?sr(o,r.utc==="preserve",r.enableSeconds):r.modelType?r.modelType==="timestamp"?+w(o):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?M(w(o)):M(w(o),r.modelType):w(o):"",u=(o,I=!1)=>{if(t("update:model-value",o),r.emitTimezone&&I){const N=Array.isArray(o)?o.map(h=>Ce(ie(h)),r.emitTimezone):Ce(ie(o),r.emitTimezone);t("update:model-timezone-value",N)}},k=o=>Array.isArray(n.value)?r.multiDates?n.value.map(I=>o(I)):[o(n.value[0]),n.value[1]?o(n.value[1]):Oe(r.partialRange)]:o(ie(n.value)),i=o=>u(ie(k(o)));return{inputValue:m,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:C,formatInputValue:V,emitModelValue:()=>(V(),r.monthPicker?i(E):r.timePicker?i($):r.yearPicker?i(c.getYear):r.weekPicker?u(n.value,!0):u(ee(),!0))}},Cr=(t,r)=>{const{defaultedFilters:a}=pe(t),{validateMonthYearInRange:n}=Ue(t),s=(S,M)=>{let $=S;return a.value.months.includes(c.getMonth($))?($=M?c.addMonths(S,1):c.subMonths(S,1),s($,M)):$},l=(S,M)=>{let $=S;return a.value.years.includes(c.getYear($))?($=M?c.addYears(S,1):c.subYears(S,1),l($,M)):$},m=S=>{const M=c.set(new Date,{month:t.month,year:t.year});let $=S?c.addMonths(M,1):c.subMonths(M,1);t.disableYearSelect&&($=c.setYear($,t.year));let E=c.getMonth($),x=c.getYear($);a.value.months.includes(E)&&($=s($,S),E=c.getMonth($),x=c.getYear($)),a.value.years.includes(x)&&($=l($,S),x=c.getYear($)),n(E,x,S,t.preventMinMaxNavigation)&&b(E,x)},b=(S,M)=>{r("update-month-year",{month:S,year:M})},w=e.computed(()=>S=>yn(c.set(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,S));return{handleMonthYearChange:m,isDisabled:w,updateMonthYear:b}};var Ie=(t=>(t.center="center",t.left="left",t.right="right",t))(Ie||{}),Me=(t=>(t.month="month",t.year="year",t))(Me||{}),Pe=(t=>(t.top="top",t.bottom="bottom",t))(Pe||{}),_e=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(_e||{});const Sr=(t,r,a,n,s,l,m)=>{const b=e.ref({}),w=e.ref(!1),S=e.ref({top:"0",left:"0"}),M=e.ref(!1),$=e.toRef(m,"teleportCenter");e.watch($,()=>{S.value=JSON.parse(JSON.stringify({})),z()});const E=f=>{if(m.teleport){const D=f.getBoundingClientRect();return{left:D.left+window.scrollX,top:D.top+window.scrollY}}return{top:0,left:0}},x=(f,D)=>{S.value.left=`${f+D-b.value.width}px`},H=f=>{S.value.left=`${f}px`},Z=(f,D)=>{m.position===Ie.left&&H(f),m.position===Ie.right&&x(f,D),m.position===Ie.center&&(S.value.left=`${f+D/2-b.value.width/2}px`)},R=f=>{const{width:D,height:u}=f.getBoundingClientRect(),{top:k,left:i}=m.altPosition?m.altPosition(f):E(f);return{top:+k,left:+i,width:D,height:u}},y=()=>{S.value.left="50%",S.value.top="50%",S.value.transform="translate(-50%, -50%)",S.value.position="fixed",delete S.value.opacity},_=()=>{const f=ce(a),{top:D,left:u,transform:k}=m.altPosition(f);S.value={top:`${D}px`,left:`${u}px`,transform:k??""}},z=(f=!0)=>{var D;if(!s.value.enabled){if($.value)return y();if(m.altPosition!==null)return _();if(f){const u=m.teleport?(D=r.value)==null?void 0:D.$el:t.value;u&&(b.value=u.getBoundingClientRect()),l("recalculate-position")}return C()}},L=({inputEl:f,left:D,width:u})=>{window.screen.width>768&&!w.value&&Z(D,u),W(f)},B=f=>{const{top:D,left:u,height:k,width:i}=R(f);S.value.top=`${k+D+ +m.offset}px`,M.value=!1,w.value||(S.value.left=`${u+i/2-b.value.width/2}px`),L({inputEl:f,left:u,width:i})},j=f=>{const{top:D,left:u,width:k}=R(f);S.value.top=`${D-+m.offset-b.value.height}px`,M.value=!0,L({inputEl:f,left:u,width:k})},W=f=>{if(m.autoPosition){const{left:D,width:u}=R(f),{left:k,right:i}=b.value;if(!w.value){if(Math.abs(k)!==Math.abs(i)){if(k<=0)return w.value=!0,H(D);if(i>=document.documentElement.clientWidth)return w.value=!0,x(D,u)}return Z(D,u)}}},ee=()=>{const f=ce(a);if(f){const{height:D}=b.value,{top:u,height:k}=f.getBoundingClientRect(),T=window.innerHeight-u-k,J=u;return D<=T?Pe.bottom:D>T&&D<=J?Pe.top:T>=J?Pe.bottom:Pe.top}return Pe.bottom},g=f=>ee()===Pe.bottom?B(f):j(f),C=()=>{const f=ce(a);if(f)return m.autoPosition?g(f):B(f)},A=function(f){if(f){const D=f.scrollHeight>f.clientHeight,k=window.getComputedStyle(f).overflowY.indexOf("hidden")!==-1;return D&&!k}return!0},K=function(f){return!f||f===document.body||f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:A(f)?f:K(f.parentNode)},p=f=>{if(f)switch(m.position){case Ie.left:return{left:0,transform:"translateX(0)"};case Ie.right:return{left:`${f.width}px`,transform:"translateX(-100%)"};default:return{left:`${f.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:M,menuStyle:S,xCorrect:w,setMenuPosition:z,getScrollableParent:K,shadowRender:(f,D)=>{var I,N,h;const u=document.createElement("div"),k=(I=ce(a))==null?void 0:I.getBoundingClientRect();u.setAttribute("id","dp--temp-container");const i=(N=n.value)!=null&&N.clientWidth?n.value:document.body;i.append(u);const T=document.getElementById("dp--temp-container"),J=p(k),o=e.h(f,{...D,shadow:!0,style:{opacity:0,position:"absolute",...J}});e.render(o,T),b.value=(h=o.el)==null?void 0:h.getBoundingClientRect(),e.render(null,T),i.removeChild(T)}}},Ee=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared"]},{name:"arrow-right",use:["month-year","calendar","shared"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]}],$r=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Br={all:()=>Ee,monthYear:()=>Ee.filter(t=>t.use.includes("month-year")),input:()=>$r,timePicker:()=>Ee.filter(t=>t.use.includes("time")),action:()=>Ee.filter(t=>t.use.includes("action")),calendar:()=>Ee.filter(t=>t.use.includes("calendar")),menu:()=>Ee.filter(t=>t.use.includes("menu")),shared:()=>Ee.filter(t=>t.use.includes("shared"))},De=(t,r,a)=>{const n=[];return Br[r]().forEach(s=>{t[s.name]&&n.push(s.name)}),a!=null&&a.length&&a.forEach(s=>{s.slot&&n.push(s.slot)}),n},Ke=t=>{const r=e.computed(()=>n=>t.value?n?t.value.open:t.value.close:""),a=e.computed(()=>n=>t.value?n?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:r,showTransition:!!t.value,menuTransition:a}},Fe=(t,r)=>{const a=e.ref([{month:c.getMonth(v()),year:c.getYear(v())}]),n=e.reactive({hours:t.range?[c.getHours(v()),c.getHours(v())]:c.getHours(v()),minutes:t.range?[c.getMinutes(v()),c.getMinutes(v())]:c.getMinutes(v()),seconds:t.range?[0,0]:0}),s=e.computed({get:()=>t.internalModelValue,set:b=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",b)}}),l=e.computed(()=>b=>a.value[b]?a.value[b].month:0),m=e.computed(()=>b=>a.value[b]?a.value[b].year:0);return{calendars:a,time:n,modelValue:s,month:l,year:m}},Tr=(t,r)=>{const{defaultedMultiCalendars:a}=pe(r),{isDisabled:n,matchDate:s}=Ue(r),l=e.ref(null),m=e.ref(v()),b=i=>{!i.current&&r.hideOffsetDates||(l.value=i.value)},w=()=>{l.value=null},S=i=>Array.isArray(t.value)&&r.range&&t.value[0]&&l.value?i?ge(l.value,t.value[0]):fe(l.value,t.value[0]):!0,M=(i,T)=>{const J=()=>t.value?T?t.value[0]||null:t.value[1]:null,o=t.value&&Array.isArray(t.value)?J():null;return ae(v(i.value),o)},$=i=>{const T=Array.isArray(t.value)?t.value[0]:null;return i?!fe(l.value??null,T):!0},E=(i,T=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?r.hideOffsetDates&&!i.current?!1:ae(v(i.value),t.value[T?0:1]):r.range?M(i,T)&&$(T)||ae(i.value,Array.isArray(t.value)?t.value[0]:null)&&S(T):!1,x=(i,T,J)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?i?!1:J?ge(t.value[0],T.value):fe(t.value[0],T.value):!1,H=i=>!t.value||r.hideOffsetDates&&!i.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?ae(i.value,t.value[0]?t.value[0]:m.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(T=>ae(T,i.value)):ae(i.value,t.value?t.value:m.value),Z=i=>{if(r.autoRange||r.weekPicker){if(l.value){if(r.hideOffsetDates&&!i.current)return!1;const T=c.addDays(l.value,+r.autoRange),J=Je(v(l.value),r.timezone,r.weekStart);return r.weekPicker?ae(J[1],v(i.value)):ae(T,v(i.value))}return!1}return!1},R=i=>{if(r.autoRange||r.weekPicker){if(l.value){const T=c.addDays(l.value,+r.autoRange);if(r.hideOffsetDates&&!i.current)return!1;const J=Je(v(l.value),r.timezone,r.weekStart);return r.weekPicker?ge(i.value,J[0])&&fe(i.value,J[1]):ge(i.value,l.value)&&fe(i.value,T)}return!1}return!1},y=i=>{if(r.autoRange||r.weekPicker){if(l.value){if(r.hideOffsetDates&&!i.current)return!1;const T=Je(v(l.value),r.timezone,r.weekStart);return r.weekPicker?ae(T[0],i.value):ae(l.value,i.value)}return!1}return!1},_=i=>St(t.value,l.value,i.value),z=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,L=()=>r.modelAuto?sn(r.internalModelValue):!0,B=i=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const T=r.range?!E(i)&&!E(i,!1):!0;return!n(i.value)&&!H(i)&&!(!i.current&&r.hideOffsetDates)&&T},j=i=>r.range?r.modelAuto?z()&&H(i):!1:H(i),W=i=>{var T;return r.highlight?s(i.value,(T=r.arrMapValues)!=null&&T.highlightedDates?r.arrMapValues.highlightedDates:r.highlight):!1},ee=i=>n(i.value)&&r.highlightDisabledDays===!1,g=i=>{var T;return(T=r.highlightWeekDays)==null?void 0:T.includes(i.value.getDay())},C=i=>(r.range||r.weekPicker)&&(!(a.value.count>0)||i.current)&&L()&&!(!i.current&&r.hideOffsetDates)&&!H(i)?_(i):!1,A=i=>{const{isRangeStart:T,isRangeEnd:J}=V(i),o=r.range?T||J:!1;return{dp__cell_offset:!i.current,dp__pointer:!r.disabled&&!(!i.current&&r.hideOffsetDates)&&!n(i.value),dp__cell_disabled:n(i.value),dp__cell_highlight:!ee(i)&&(W(i)||g(i))&&!j(i)&&!o,dp__cell_highlight_active:!ee(i)&&(W(i)||g(i))&&j(i),dp__today:!r.noToday&&ae(i.value,m.value)&&i.current}},K=i=>({dp__active_date:j(i),dp__date_hover:B(i)}),p=i=>({...f(i),...D(i),dp__range_between_week:C(i)&&r.weekPicker}),V=i=>{const T=a.value.count>0?i.current&&E(i)&&L():E(i)&&L(),J=a.value.count>0?i.current&&E(i,!1)&&L():E(i,!1)&&L();return{isRangeStart:T,isRangeEnd:J}},f=i=>{const{isRangeStart:T,isRangeEnd:J}=V(i);return{dp__range_start:T,dp__range_end:J,dp__range_between:C(i)&&!r.weekPicker,dp__date_hover_start:x(B(i),i,!0),dp__date_hover_end:x(B(i),i,!1)}},D=i=>({...f(i),dp__cell_auto_range:R(i),dp__cell_auto_range_start:y(i),dp__cell_auto_range_end:Z(i)}),u=i=>r.range?r.autoRange?D(i):r.modelAuto?{...K(i),...f(i)}:f(i):r.weekPicker?p(i):K(i);return{setHoverDate:b,clearHoverDate:w,getDayClassData:i=>r.hideOffsetDates&&!i.current?{}:{...A(i),...u(i),[r.dayClass?r.dayClass(i.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName}}},Ue=t=>{const{defaultedFilters:r}=pe(t),a=g=>{const C=ke(n(v(g))).toISOString(),[A]=C.split("T");return A},n=g=>Ce(g,t.timezone),s=g=>{var i;const C=t.maxDate?ge(n(g),n(v(t.maxDate))):!1,A=t.minDate?fe(n(g),n(v(t.minDate))):!1,K=w(g,(i=t.arrMapValues)!=null&&i.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),V=r.value.months.map(T=>+T).includes(c.getMonth(g)),f=t.disabledWeekDays.length?t.disabledWeekDays.some(T=>+T===c.getDay(g)):!1,D=M(g),u=c.getYear(g),k=u<+t.yearRange[0]||u>+t.yearRange[1];return!(C||A||K||V||k||f||D)},l=(g,C)=>fe(...Te(t.minDate,g,C))||ae(...Te(t.minDate,g,C)),m=(g,C)=>ge(...Te(t.maxDate,g,C))||ae(...Te(t.maxDate,g,C)),b=(g,C,A)=>{let K=!1;return t.maxDate&&A&&m(g,C)&&(K=!0),t.minDate&&!A&&l(g,C)&&(K=!0),K},w=(g,C)=>g?C instanceof Map?!!C.get(a(g)):Array.isArray(C)?C.some(A=>ae(n(v(A)),n(g))):C?C(v(JSON.parse(JSON.stringify(g)))):!1:!0,S=(g,C,A,K)=>{let p=!1;return K?t.minDate&&t.maxDate?p=b(g,C,A):(t.minDate&&l(g,C)||t.maxDate&&m(g,C))&&(p=!0):p=!0,p},M=g=>{var C,A,K,p,V;return Array.isArray(t.allowedDates)&&!((C=t.allowedDates)!=null&&C.length)?!0:(A=t.arrMapValues)!=null&&A.allowedDates?!w(g,(K=t.arrMapValues)==null?void 0:K.allowedDates):(p=t.allowedDates)!=null&&p.length?!((V=t.allowedDates)!=null&&V.some(f=>ae(n(v(f)),n(g)))):!1},$=g=>!s(g),E=g=>!c.eachDayOfInterval({start:g[0],end:g[1]}).some(A=>$(A)),x=(g,C,A=0)=>{if(Array.isArray(C)&&C[A]){const K=c.differenceInCalendarDays(g,C[A]),p=gn(C[A],g),V=p.length===1?0:p.filter(D=>$(D)).length,f=Math.abs(K)-V;if(t.minRange&&t.maxRange)return f>=+t.minRange&&f<=+t.maxRange;if(t.minRange)return f>=+t.minRange;if(t.maxRange)return f<=+t.maxRange}return!0},H=g=>new Map(g.map(C=>[a(C),!0])),Z=g=>Array.isArray(g)&&g.length>0,R=()=>{const g={disabledDates:null,allowedDates:null,highlightedDates:null};return Z(t.allowedDates)&&(g.allowedDates=H(t.allowedDates)),Z(t.highlight)&&(g.highlightedDates=H(t.highlight)),Z(t.disabledDates)&&(g.disabledDates=H(t.disabledDates)),g},y=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,_=g=>Array.isArray(g)?[g[0]?vt(g[0]):null,g[1]?vt(g[1]):null]:vt(g),z=(g,C,A)=>g.find(K=>+K.hours===c.getHours(C)&&K.minutes==="*"?!0:+K.minutes===c.getMinutes(C))&&A,L=(g,C,A)=>{const[K,p]=g,[V,f]=C;return!z(K,V,A)&&!z(p,f,A)&&A},B=(g,C)=>{const A=Array.isArray(C)?C:[C];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?L(t.disabledTimes,A,g):!A.some(K=>z(t.disabledTimes,K,g)):g},j=(g,C)=>{const A=Array.isArray(C)?[Ne(C[0]),C[1]?Ne(C[1]):void 0]:Ne(C),K=!t.disabledTimes(A);return g&&K},W=(g,C)=>t.disabledTimes?Array.isArray(t.disabledTimes)?B(C,g):j(C,g):C;return{isDisabled:$,validateDate:s,validateMonthYearInRange:S,isDateRangeAllowed:E,checkMinMaxRange:x,matchDate:w,mapDatesArrToMap:R,isValidTime:g=>{let C=!0;if(!g||y())return!0;const A=!t.minDate&&!t.maxDate?_(g):g;return(t.maxTime||t.maxDate)&&(C=wn(t.maxTime,t.maxDate,"max",ie(A),C)),(t.minTime||t.minDate)&&(C=wn(t.minTime,t.minDate,"min",ie(A),C)),W(g,C)}}},et=()=>{const t=e.computed(()=>(n,s)=>n==null?void 0:n.includes(s)),r=e.computed(()=>(n,s)=>n.count?n.solo?!0:s===0:!0),a=e.computed(()=>(n,s)=>n.count?n.solo?!0:s===n.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:r,showRightIcon:a}},vr=(t,r,a)=>{const n=e.ref(0),s=e.reactive({[_e.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[_e.calendar]:!1,[_e.header]:!1}),l=M=>{var $;($=t.flow)!=null&&$.length&&(s[M]=!0,Object.keys(s).filter(E=>!s[E]).length||S())},m=()=>{var M;(M=t.flow)!=null&&M.length&&n.value!==-1&&(n.value+=1,r("flow-step",n.value),S())},b=()=>{n.value=-1},w=(M,$,...E)=>{t.flow[n.value]===M&&a.value&&a.value[$](...E)},S=()=>{w("month","toggleMonthPicker",!0),w("year","toggleYearPicker",!0),w("calendar","toggleTimePicker",!1,!0),w("time","toggleTimePicker",!0,!0);const M=t.flow[n.value];(M==="hours"||M==="minutes"||M==="seconds")&&w(M,"toggleTimePicker",!0,!0,M)};return{childMount:l,updateFlowStep:m,resetFlow:b,flowStep:n}},tt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null}},$e={...tt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},Ar={key:1,class:"dp__input_wrap"},Nr=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","onKeydown"],Pr={key:2,class:"dp__clear_icon"},_r=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...tt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:r,emit:a}){const n=t,{defaultedTextInput:s,defaultedAriaLabels:l,defaultedInline:m,getDefaultPattern:b,getDefaultStartTime:w}=pe(n),S=e.ref(),M=e.ref(null),$=e.ref(!1),E=e.ref(!1),x=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!s.value.enabled,dp__disabled:n.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:n.state,dp__input_invalid:n.state===!1,dp__input_focus:$.value||n.isMenuOpen,dp__input_reg:!s.value.enabled,[n.inputClassName]:!!n.inputClassName})),H=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),S.value=null)},Z=p=>{const V=w();return lr(p,s.value.format??b(),V??hn({},n.enableSeconds),n.inputValue,E.value)},R=p=>{const{rangeSeparator:V}=s.value,[f,D]=p.split(`${V}`);if(f){const u=Z(f.trim()),k=D?Z(D.trim()):null,i=u&&k?[u,k]:[u];S.value=u?i:null}},y=()=>{E.value=!0},_=p=>{if(n.range)R(p);else if(n.multiDates){const V=p.split(";");S.value=V.map(f=>Z(f.trim())).filter(f=>f)}else S.value=Z(p)},z=p=>{var f;const V=typeof p=="string"?p:(f=p.target)==null?void 0:f.value;V!==""?(s.value.openMenu&&!n.isMenuOpen&&a("open"),_(V),a("set-input-date",S.value)):H(),E.value=!1,a("update:input-value",V)},L=p=>{s.value.enabled?(_(p.target.value),s.value.enterSubmit&&Bt(S.value)&&n.inputValue!==""?(a("set-input-date",S.value,!0),S.value=null):s.value.enterSubmit&&n.inputValue===""&&(S.value=null,a("clear"))):W(p)},B=p=>{s.value.enabled&&s.value.tabSubmit&&_(p.target.value),s.value.tabSubmit&&Bt(S.value)&&n.inputValue!==""?(a("set-input-date",S.value,!0),S.value=null):s.value.tabSubmit&&n.inputValue===""&&(S.value=null,a("clear"))},j=()=>{$.value=!0,a("focus")},W=p=>{p.preventDefault(),p.stopImmediatePropagation(),p.stopPropagation(),s.value.enabled&&s.value.openMenu&&!m.value.input&&!n.isMenuOpen?a("open"):s.value.enabled||a("toggle")},ee=()=>{a("real-blur"),$.value=!1,(!n.isMenuOpen||m.value.enabled&&m.value.input)&&a("blur"),n.autoApply&&s.value.enabled&&S.value&&!n.isMenuOpen&&(a("set-input-date",S.value),a("select-date"),S.value=null)},g=()=>{a("clear")},C=p=>{if(!s.value.enabled){if(p.code==="Tab")return;p.preventDefault()}};return r({focusInput:()=>{var p;(p=M.value)==null||p.focus({preventScroll:!0})},setParsedDate:p=>{S.value=p}}),(p,V)=>{var f;return e.openBlock(),e.createElementBlock("div",{onClick:W},[p.$slots.trigger&&!p.$slots["dp-input"]&&!e.unref(m).enabled?e.renderSlot(p.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!p.$slots.trigger&&(!e.unref(m).enabled||e.unref(m).input)?(e.openBlock(),e.createElementBlock("div",Ar,[p.$slots["dp-input"]&&!p.$slots.trigger&&!e.unref(m).enabled?e.renderSlot(p.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:z,onEnter:L,onTab:B,onClear:g,onBlur:ee,onKeypress:C,onPaste:y}):e.createCommentVNode("",!0),p.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:M,id:p.uid?`dp-input-${p.uid}`:void 0,name:p.name,class:e.normalizeClass(x.value),inputmode:e.unref(s).enabled?"text":"none",placeholder:p.placeholder,disabled:p.disabled,readonly:p.readonly,required:p.required,value:t.inputValue,autocomplete:p.autocomplete,"aria-label":(f=e.unref(l))==null?void 0:f.input,onInput:z,onKeydown:[e.withKeys(L,["enter"]),e.withKeys(B,["tab"]),C],onBlur:ee,onFocus:j,onKeypress:C,onPaste:y},null,42,Nr)),e.createElementVNode("div",{onClick:V[2]||(V[2]=D=>a("toggle"))},[p.$slots["input-icon"]&&!p.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:V[0]||(V[0]=D=>a("toggle"))},[e.renderSlot(p.$slots,"input-icon")])):e.createCommentVNode("",!0),!p.$slots["input-icon"]&&!p.hideInputIcon&&!p.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(ze),{key:1,onClick:V[1]||(V[1]=D=>a("toggle")),class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0)]),p.$slots["clear-icon"]&&t.inputValue&&p.clearable&&!p.disabled&&!p.readonly?(e.openBlock(),e.createElementBlock("span",Pr,[e.renderSlot(p.$slots,"clear-icon",{clear:g})])):e.createCommentVNode("",!0),p.clearable&&!p.$slots["clear-icon"]&&t.inputValue&&!p.disabled&&!p.readonly?(e.openBlock(),e.createBlock(e.unref(Gt),{key:3,class:"dp__clear_icon dp__input_icons",onClick:e.withModifiers(g,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Er=["title"],Rr={class:"dp__action_buttons"},Vr=["onKeydown","disabled"],Yr=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...$e},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:r}){const a=t,{defaultedActionRow:n,defaultedPreviewFormat:s,defaultedMultiCalendars:l,defaultedTextInput:m,defaultedInline:b,getDefaultPattern:w}=pe(a),{isValidTime:S}=Ue(a),{buildMatrix:M}=ve(),$=e.ref(null),E=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&M([ce($),ce(E)],"actionRow")});const x=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),H=e.computed(()=>!Z.value||!R.value||!x.value),Z=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:S(a.internalModelValue)),R=e.computed(()=>a.monthPicker?a.range&&Array.isArray(a.internalModelValue)?!a.internalModelValue.filter(C=>!W(C)).length:W(a.internalModelValue):!0),y=()=>{const g=s.value;return a.timePicker||a.monthPicker,g(ie(a.internalModelValue))},_=()=>{const g=a.internalModelValue;return l.value.count>0?`${z(g[0])} - ${z(g[1])}`:[z(g[0]),z(g[1])]},z=g=>kn(g,s.value,a.formatLocale,m.value.rangeSeparator,a.modelAuto,w()),L=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof s.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?_():a.multiDates?a.internalModelValue.map(g=>`${z(g)}`):a.modelAuto?`${z(a.internalModelValue[0])}`:`${z(a.internalModelValue[0])} -`:z(a.internalModelValue):y()),B=()=>a.multiDates?"; ":" - ",j=e.computed(()=>Array.isArray(L.value)?L.value.join(B()):L.value),W=g=>{if(!a.monthPicker)return!0;let C=!0;const A=v(be(g));if(a.minDate&&a.maxDate){const K=v(be(a.minDate)),p=v(be(a.maxDate));return ge(A,K)&&fe(A,p)||ae(A,K)||ae(A,p)}if(a.minDate){const K=v(be(a.minDate));C=ge(A,K)||ae(A,K)}if(a.maxDate){const K=v(be(a.maxDate));C=fe(A,K)||ae(A,K)}return C},ee=()=>{Z.value&&R.value&&x.value?r("select-date"):r("invalid-select")};return(g,C)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[g.$slots["action-row"]?e.renderSlot(g.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:g.internalModelValue,disabled:H.value,selectDate:()=>g.$emit("select-date"),closePicker:()=>g.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(n).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:j.value},[g.$slots["action-preview"]?e.renderSlot(g.$slots,"action-preview",{key:0,value:g.internalModelValue}):e.createCommentVNode("",!0),g.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(j.value),1)],64))],8,Er)):e.createCommentVNode("",!0),e.createElementVNode("div",Rr,[g.$slots["action-buttons"]?e.renderSlot(g.$slots,"action-buttons",{key:0,value:g.internalModelValue}):e.createCommentVNode("",!0),g.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(b).enabled&&e.unref(n).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:$,class:"dp__action_button dp__action_cancel",onClick:C[0]||(C[0]=A=>g.$emit("close-picker")),onKeydown:[C[1]||(C[1]=e.withKeys(A=>g.$emit("close-picker"),["enter"])),C[2]||(C[2]=e.withKeys(A=>g.$emit("close-picker"),["space"]))]},e.toDisplayString(g.cancelText),545)):e.createCommentVNode("",!0),e.unref(n).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:$,class:"dp__action_button dp__action_cancel",onClick:C[3]||(C[3]=A=>g.$emit("select-now")),onKeydown:[C[4]||(C[4]=e.withKeys(A=>g.$emit("select-now"),["enter"])),C[5]||(C[5]=e.withKeys(A=>g.$emit("select-now"),["space"]))]},e.toDisplayString(g.nowButtonLabel),545)):e.createCommentVNode("",!0),e.unref(n).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[e.withKeys(ee,["enter"]),e.withKeys(ee,["space"])],onClick:ee,disabled:H.value,ref_key:"selectButtonRef",ref:E},e.toDisplayString(g.selectText),41,Vr)):e.createCommentVNode("",!0)],64))])],64))],4))}}),Or=["onKeydown"],Ir={class:"dp__selection_grid_header"},zr=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Lr=["aria-label","onKeydown"],We=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:s,buildMultiLevelMatrix:l,setMonthPicker:m}=ve(),{defaultedAriaLabels:b,defaultedTextInput:w}=pe(n),{hideNavigationButtons:S}=et(),M=e.ref(!1),$=e.ref(null),E=e.ref(null),x=e.ref([]),H=e.ref(),Z=e.ref(null),R=e.ref(0),y=e.ref(null);e.onBeforeUpdate(()=>{$.value=null}),e.onMounted(()=>{e.nextTick().then(()=>g()),z(),_(!0)}),e.onUnmounted(()=>_(!1));const _=u=>{var k;n.arrowNavigation&&((k=n.headerRefs)!=null&&k.length?m(u):s(u))},z=()=>{var k;const u=ce(E);u&&(w.value.enabled||($.value?(k=$.value)==null||k.focus({preventScroll:!0}):u.focus({preventScroll:!0})),M.value=u.clientHeight<u.scrollHeight)},L=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!n.useRelative,"dp--overlay-relative":n.useRelative})),B=e.computed(()=>n.useRelative?{height:`${n.height}px`,width:"260px"}:void 0),j=e.computed(()=>({dp__overlay_col:!0})),W=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:M.value,dp__button_bottom:n.isLast})),ee=e.computed(()=>{var u,k;return{dp__overlay_container:!0,dp__container_flex:((u=n.items)==null?void 0:u.length)<=6,dp__container_block:((k=n.items)==null?void 0:k.length)>6}}),g=()=>{e.nextTick().then(()=>{const u=ce($),k=ce(E),i=ce(Z),T=ce(y),J=i?i.getBoundingClientRect().height:0;k&&(R.value=k.getBoundingClientRect().height-J),u&&T&&(T.scrollTop=u.offsetTop-T.offsetTop-(R.value/2-u.getBoundingClientRect().height)-J)})},C=u=>{u.disabled||a("selected",u.value)},A=()=>{a("toggle"),a("reset-flow")},K=()=>{n.escClose&&A()},p=(u,k,i,T)=>{u&&(k.active&&($.value=u),n.arrowNavigation&&(Array.isArray(x.value[i])?x.value[i][T]=u:x.value[i]=[u],V()))},V=()=>{var k,i;const u=(k=n.headerRefs)!=null&&k.length?[n.headerRefs].concat(x.value):x.value.concat([n.skipButtonRef?[]:[Z.value]]);l(ie(u),(i=n.headerRefs)!=null&&i.length?"monthPicker":"selectionGrid")},f=u=>{n.arrowNavigation||u.stopImmediatePropagation()},D=u=>{H.value=u,a("hover-value",u)};return r({focusGrid:z}),(u,k)=>{var i;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:E,class:e.normalizeClass(L.value),style:e.normalizeStyle(B.value),role:"dialog",tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(K,["prevent"]),["esc"]),k[0]||(k[0]=e.withKeys(e.withModifiers(T=>f(T),["prevent"]),["left"])),k[1]||(k[1]=e.withKeys(e.withModifiers(T=>f(T),["prevent"]),["up"])),k[2]||(k[2]=e.withKeys(e.withModifiers(T=>f(T),["prevent"]),["down"])),k[3]||(k[3]=e.withKeys(e.withModifiers(T=>f(T),["prevent"]),["right"]))]},[e.createElementVNode("div",{class:e.normalizeClass(ee.value),ref_key:"containerRef",ref:y,role:"grid",style:e.normalizeStyle({height:`${R.value}px`})},[e.createElementVNode("div",Ir,[e.renderSlot(u.$slots,"header")]),u.$slots.overlay?e.renderSlot(u.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(u.items,(T,J)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:u.items.length>=3}]),key:J,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(T,(o,I)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(j.value),key:o.value,"aria-selected":o.active,"aria-disabled":o.disabled||void 0,ref_for:!0,ref:N=>p(N,o,J,I),tabindex:"0",onClick:N=>C(o),onKeydown:[e.withKeys(e.withModifiers(N=>C(o),["prevent"]),["enter"]),e.withKeys(e.withModifiers(N=>C(o),["prevent"]),["space"])],onMouseover:N=>D(o.value)},[e.createElementVNode("div",{class:e.normalizeClass(o.className)},[u.$slots.item?e.renderSlot(u.$slots,"item",{key:0,item:o}):e.createCommentVNode("",!0),u.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o.text),1)],64))],2)],42,zr))),128))],2))),128))],6),u.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,role:"button","aria-label":(i=e.unref(b))==null?void 0:i.toggleOverlay,class:e.normalizeClass(W.value),tabindex:"0",ref_key:"toggleButton",ref:Z,onClick:A,onKeydown:[e.withKeys(A,["enter"]),e.withKeys(A,["tab"])]},[e.renderSlot(u.$slots,"button-icon")],42,Lr)),[[e.vShow,!e.unref(S)(u.hideNavigation,u.type)]]):e.createCommentVNode("",!0)],46,Or)}}}),Et=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const r=t,a=e.computed(()=>r.multiCalendars>0?[...Array(r.multiCalendars).keys()]:[0]),n=e.computed(()=>({dp__instance_calendar:r.multiCalendars>0}));return(s,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!s.stretch,"dp--menu--inner-stretched":s.stretch,dp__flex_display:s.multiCalendars>0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(m,b)=>(e.openBlock(),e.createElementBlock("div",{key:m,class:e.normalizeClass(n.value)},[e.renderSlot(s.$slots,"default",{instance:m,index:b})],2))),128))],2))}}),Hr=["aria-label","aria-disabled"],xe=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,s)=>(e.openBlock(),e.createElementBlock("button",{type:"button",class:"dp__btn dp--arrow-btn-nav",onClick:s[0]||(s[0]=l=>n.$emit("activate")),onKeydown:[s[1]||(s[1]=e.withKeys(e.withModifiers(l=>n.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=e.withKeys(e.withModifiers(l=>n.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":n.ariaLabel,"aria-disabled":n.disabled||void 0,ref_key:"elRef",ref:a},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:n.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,Hr))}}),Rt=(t,r,a)=>{if(r.value&&Array.isArray(r.value))if(r.value.some(n=>ae(t,n))){const n=r.value.filter(s=>!ae(s,t));r.value=n.length?n:null}else(a&&+a>r.value.length||!a)&&r.value.push(t);else r.value=[t]},Cn=(t,r,a)=>{let n=t.value?t.value.slice():[];return n.length===2&&n[1]!==null&&(n=[]),n.length?fe(r,n[0])?(n.unshift(r),a("range-start",n[0]),a("range-start",n[1])):(n[1]=r,a("range-end",r)):(n=[r],a("range-start",r)),t.value=n,n},Vt=(t,r,a,n)=>{t[0]&&t[1]&&a&&r("auto-apply"),t[0]&&!t[1]&&n&&a&&r("auto-apply")},Kr=(t,r)=>{const{defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:s}=pe(t),{modelValue:l,year:m,month:b,calendars:w}=Fe(t,r),S=e.computed(()=>ln(t.formatLocale,t.locale,t.monthNameFormat)),M=e.computed(()=>Ct(t.yearRange,t.reverseYears)),$=e.ref(null),E=()=>{for(let f=0;f<a.value.count;f++)if(f===0)w.value[f]=w.value[0];else{const D=c.set(v(),w.value[f-1]);w.value[f]={month:c.getMonth(D),year:c.getYear(c.addYears(D,f))}}},x=f=>{if(!f)return E();const D=c.set(v(),w.value[f]);return w.value[0].year=c.getYear(c.subYears(D,a.value.count-1)),E()},H=f=>t.focusStartDate?f[0]:f[1]?f[1]:f[0],Z=()=>{if(l.value){const f=Array.isArray(l.value)?H(l.value):l.value;w.value[0]={month:c.getMonth(f),year:c.getYear(f)}}};e.onMounted(()=>{Z(),a.value.count&&E()});const R=e.computed(()=>(f,D)=>{const u=c.set(be(new Date),{month:b.value(f),year:m.value(f)});return yn(u,t.maxDate,t.minDate,t.preventMinMaxNavigation,D)}),y=f=>f?{month:c.getMonth(f),year:c.getYear(f)}:{month:null,year:null},_=()=>l.value?Array.isArray(l.value)?l.value.map(f=>y(f)):y(l.value):y(),z=(f,D)=>{const u=w.value[f],k=_();return Array.isArray(k)?k.some(i=>i.year===(u==null?void 0:u.year)&&i.month===D):(u==null?void 0:u.year)===k.year&&D===k.month},L=(f,D,u)=>{var i,T;const k=_();return Array.isArray(k)?m.value(D)===((i=k[u])==null?void 0:i.year)&&f===((T=k[u])==null?void 0:T.month):!1},B=(f,D)=>{if(t.range){const u=_();if(Array.isArray(l.value)&&Array.isArray(u)){const k=L(f,D,0)||L(f,D,1),i=Se(be(v()),f,m.value(D));return St(l.value,$.value,i)&&!k}return!1}return!1},j=e.computed(()=>f=>Ve(S.value,D=>{const u=z(f,D.value),k=Le(D.value,fn(m.value(f),t.minDate),mn(m.value(f),t.maxDate))||mr(t.disabledDates,m.value(f)).includes(D.value),i=B(D.value,f);return{active:u,disabled:k,isBetween:i}})),W=e.computed(()=>f=>Ve(M.value,D=>{const u=m.value(f)===D.value,k=Le(D.value,Ye(t.minDate),Ye(t.maxDate));return{active:u,disabled:k}})),ee=(f,D)=>Se(be(v()),f,m.value(D)),g=(f,D)=>{const u=l.value?l.value:be(new Date);l.value=Se(u,f,m.value(D)),r("auto-apply")},C=(f,D)=>{const u=Cn(l,ee(f,D),r);Vt(u,r,t.autoApply,t.modelAuto)},A=(f,D)=>{Rt(ee(f,D),l,t.multiDatesLimit),r("auto-apply",!0)};return{groupedMonths:j,groupedYears:W,year:m,isDisabled:R,defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:s,setHoverDate:(f,D)=>{$.value=ee(f,D)},selectMonth:(f,D)=>(w.value[D].month=f,t.multiDates?A(f,D):t.range?C(f,D):g(f,D)),selectYear:(f,D)=>{w.value[D].year=f,a.value.count&&!a.value.solo&&x(D)}}},Ur={class:"dp__month_picker_header"},Wr=["aria-label","onClick","onKeydown"],xr=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...$e},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply"],setup(t,{emit:r}){const a=t,{groupedMonths:n,groupedYears:s,year:l,isDisabled:m,defaultedMultiCalendars:b,defaultedAriaLabels:w,defaultedTransitions:S,setHoverDate:M,selectMonth:$,selectYear:E}=Kr(a,r),{transitionName:x,showTransition:H}=Ke(S),{showRightIcon:Z,showLeftIcon:R}=et(),y=e.ref([!1]),_=(B,j)=>{E(B,j),L(j)},z=(B,j=!1)=>{if(!m.value(B,j)){const W=j?l.value(B)+1:l.value(B)-1;E(W,B)}},L=(B,j=!1,W)=>{j||r("reset-flow"),W!==void 0?y.value[B]=W:y.value[B]=!y.value[B],y.value||r("overlay-closed")};return(B,j)=>(e.openBlock(),e.createBlock(Et,{"multi-calendars":e.unref(b).count,stretch:""},{default:e.withCtx(({instance:W})=>[e.createVNode(We,{items:e.unref(n)(W),"arrow-navigation":B.arrowNavigation,"is-last":B.autoApply&&!B.keepActionRow,"esc-close":B.escClose,height:B.modeHeight,onSelected:ee=>e.unref($)(ee,W),onHoverValue:ee=>e.unref(M)(ee,W),"use-relative":"",type:"month"},{header:e.withCtx(()=>{var ee,g,C;return[e.createElementVNode("div",Ur,[e.unref(R)(e.unref(b),W)?(e.openBlock(),e.createBlock(xe,{key:0,ref:"mpPrevIconRef","aria-label":(ee=e.unref(w))==null?void 0:ee.prevYear,disabled:e.unref(m)(W,!1),onActivate:A=>z(W,!1)},{default:e.withCtx(()=>[B.$slots["arrow-left"]?e.renderSlot(B.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),B.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ot),{key:1}))]),_:2},1032,["aria-label","disabled","onActivate"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp--year-select",role:"button",ref:"mpYearButtonRef","aria-label":(g=e.unref(w))==null?void 0:g.openYearsOverlay,tabindex:"0",onClick:()=>L(W,!1),onKeydown:e.withKeys(()=>L(W,!1),["enter"])},[B.$slots.year?e.renderSlot(B.$slots,"year",{key:0,year:e.unref(l)(W)}):e.createCommentVNode("",!0),B.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(l)(W)),1)],64))],40,Wr),e.unref(Z)(e.unref(b),W)?(e.openBlock(),e.createBlock(xe,{key:1,ref:"mpNextIconRef","aria-label":(C=e.unref(w))==null?void 0:C.nextYear,disabled:e.unref(m)(W,!1),onActivate:A=>z(W,!0)},{default:e.withCtx(()=>[B.$slots["arrow-right"]?e.renderSlot(B.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),B.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(lt),{key:1}))]),_:2},1032,["aria-label","disabled","onActivate"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(x)(y.value[W]),css:e.unref(H)},{default:e.withCtx(()=>[y.value[W]?(e.openBlock(),e.createBlock(We,{key:0,items:e.unref(s)(W),"text-input":B.textInput,"esc-close":B.escClose,onToggle:A=>L(W),onSelected:A=>_(A,W),"is-last":B.autoApply&&!B.keepActionRow,type:"year"},e.createSlots({"button-icon":e.withCtx(()=>[B.$slots["calendar-icon"]?e.renderSlot(B.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),B.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))]),_:2},[B.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:A})=>[e.renderSlot(B.$slots,"year-overlay-value",{text:A.text,value:A.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","onToggle","onSelected","is-last"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])])]}),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","onSelected","onHoverValue"])]),_:3},8,["multi-calendars"]))}}),jr=(t,r)=>{const{modelValue:a}=Fe(t,r),n=e.ref(null),s=M=>Array.isArray(a.value)?a.value.some($=>c.getYear($)===M):a.value?c.getYear(a.value)===M:!1,l=M=>t.range&&Array.isArray(a.value)?St(a.value,n.value,b(M)):!1,m=e.computed(()=>Ve(Ct(t.yearRange,t.reverseYears),M=>{const $=s(M.value),E=Le(M.value,Ye(t.minDate),Ye(t.maxDate)),x=l(M.value);return{active:$,disabled:E,isBetween:x}})),b=M=>c.setYear(be(new Date),M);return{groupedYears:m,setHoverValue:M=>{n.value=c.setYear(be(new Date),M)},selectYear:M=>{if(t.multiDates)return Rt(b(M),a,t.multiDatesLimit),r("auto-apply",!0);if(t.range){const $=Cn(a,b(M),r);return Vt($,r,t.autoApply,t.modelAuto)}a.value=b(M),r("auto-apply")}}},Gr=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...$e},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{emit:r}){const a=t,{groupedYears:n,selectYear:s,setHoverValue:l}=jr(a,r);return(m,b)=>(e.openBlock(),e.createBlock(We,{items:e.unref(n),"is-last":m.autoApply&&!m.keepActionRow,height:m.modeHeight,type:"year","use-relative":"",onSelected:e.unref(s),onHoverValue:e.unref(l)},e.createSlots({_:2},[m.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:w})=>[e.renderSlot(m.$slots,"year-overlay-value",{text:w.text,value:w.value})]),key:"0"}:void 0]),1032,["items","is-last","height","onSelected","onHoverValue"]))}}),qr={key:0,class:"dp__time_input"},Zr=["aria-label","onKeydown","onClick"],Jr=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Xr=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Qr=["aria-label","disabled","onKeydown","onClick"],Fr=["aria-label","onKeydown","onClick"],ea=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),ta=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),na={key:0},ra=["aria-label","onKeydown"],aa=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},...$e},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:s,setTimePickerBackRef:l}=ve(),{defaultedAriaLabels:m,defaultedTransitions:b,defaultedFilters:w}=pe(n),{transitionName:S,showTransition:M}=Ke(b),$=e.reactive({hours:!1,minutes:!1,seconds:!1}),E=e.ref("AM"),x=e.ref(null),H=e.ref([]);e.onMounted(()=>{a("mounted")});const Z=o=>c.set(new Date,{hours:o.hours,minutes:o.minutes,seconds:n.enableSeconds?o.seconds:0,milliseconds:0}),R=e.computed(()=>o=>C(o,n[o])),y=e.computed(()=>({hours:n.hours,minutes:n.minutes,seconds:n.seconds})),_=e.computed(()=>o=>!K(+n[o]+ +n[`${o}Increment`],o)),z=e.computed(()=>o=>!K(+n[o]-+n[`${o}Increment`],o)),L=(o,I)=>c.add(c.set(v(),o),I),B=(o,I)=>c.sub(c.set(v(),o),I),j=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!n.timePickerInline,dp__time_col_reg_block:!n.enableSeconds&&n.is24&&!n.timePickerInline,dp__time_col_reg_inline:!n.enableSeconds&&n.is24&&n.timePickerInline,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),W=e.computed(()=>{const o=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?o.concat([{type:"",separator:!0},{type:"seconds"}]):o}),ee=e.computed(()=>W.value.filter(o=>!o.separator)),g=e.computed(()=>o=>{if(o==="hours"){const I=u(+n.hours);return{text:I<10?`0${I}`:`${I}`,value:I}}return{text:n[o]<10?`0${n[o]}`:`${n[o]}`,value:n[o]}}),C=(o,I)=>{var h;if(!n.disabledTimesConfig)return!1;const N=n.disabledTimesConfig(n.order,o==="hours"?I:void 0);return N[o]?!!((h=N[o])!=null&&h.includes(I)):!0},A=o=>{const I=n.is24?24:12,N=o==="hours"?I:60,h=+n[`${o}GridIncrement`],Y=o==="hours"&&!n.is24?h:0,F=[];for(let U=Y;U<N;U+=h)F.push({value:U,text:U<10?`0${U}`:`${U}`});return o==="hours"&&!n.is24&&F.push({value:0,text:"12"}),Ve(F,U=>({active:!1,disabled:w.value.times[o].includes(U.value)||!K(U.value,o)||C(o,U.value)}))},K=(o,I)=>{const N=n.minTime?Z($t(n.minTime)):null,h=n.maxTime?Z($t(n.maxTime)):null,Y=Z($t(y.value,I,o));return N&&h?(c.isBefore(Y,h)||c.isEqual(Y,h))&&(c.isAfter(Y,N)||c.isEqual(Y,N)):N?c.isAfter(Y,N)||c.isEqual(Y,N):h?c.isBefore(Y,h)||c.isEqual(Y,h):!0},p=o=>n[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],V=o=>{p(o)||($[o]=!$[o],$[o]||a("overlay-closed"))},f=o=>o==="hours"?c.getHours:o==="minutes"?c.getMinutes:c.getSeconds,D=(o,I=!0)=>{const N=I?L:B,h=I?+n[`${o}Increment`]:-+n[`${o}Increment`];K(+n[o]+h,o)&&a(`update:${o}`,f(o)(N({[o]:+n[o]},{[o]:+n[`${o}Increment`]})))},u=o=>n.is24?o:(o>=12?E.value="PM":E.value="AM",nr(o)),k=()=>{E.value==="PM"?(E.value="AM",a("update:hours",n.hours-12)):(E.value="PM",a("update:hours",n.hours+12)),a("am-pm-change",E.value)},i=o=>{$[o]=!0},T=(o,I,N)=>{if(o&&n.arrowNavigation){Array.isArray(H.value[I])?H.value[I][N]=o:H.value[I]=[o];const h=H.value.reduce((Y,F)=>F.map((U,le)=>[...Y[le]||[],F[le]]),[]);l(n.closeTimePickerBtn),x.value&&(h[1]=h[1].concat(x.value)),s(h,n.order)}},J=(o,I)=>(V(o),o==="hours"&&!n.is24?a(`update:${o}`,E.value==="PM"?I+12:I):a(`update:${o}`,I));return r({openChildCmp:i}),(o,I)=>{var N;return o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",qr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(W.value,(h,Y)=>{var F,U,le;return e.openBlock(),e.createElementBlock("div",{key:Y,class:e.normalizeClass(j.value)},[h.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!n.timePickerInline,dp__inc_dec_button_inline:n.timePickerInline,dp__tp_inline_btn_top:n.timePickerInline,dp__inc_dec_button_disabled:_.value(h.type)}),"aria-label":(F=e.unref(m))==null?void 0:F.incrementValue(h.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(te=>D(h.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(te=>D(h.type),["prevent"]),["space"])],onClick:te=>D(h.type),ref_for:!0,ref:te=>T(te,Y,0)},[n.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Jr,Xr],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(it),{key:1}))],64))],42,Zr),e.createElementVNode("button",{type:"button","aria-label":(U=e.unref(m))==null?void 0:U.openTpOverlay(h.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!n.timePickerInline,dp__time_display_inline:n.timePickerInline,"dp--time-invalid":R.value(h.type),"dp--time-overlay-btn":!R.value(h.type)}),disabled:p(h.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(te=>V(h.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(te=>V(h.type),["prevent"]),["space"])],onClick:te=>V(h.type),ref_for:!0,ref:te=>T(te,Y,1)},[o.$slots[h.type]?e.renderSlot(o.$slots,h.type,{key:0,text:g.value(h.type).text,value:g.value(h.type).value}):e.createCommentVNode("",!0),o.$slots[h.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(g.value(h.type).text),1)],64))],42,Qr),e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!n.timePickerInline,dp__inc_dec_button_inline:n.timePickerInline,dp__tp_inline_btn_bottom:n.timePickerInline,dp__inc_dec_button_disabled:z.value(h.type)}),"aria-label":(le=e.unref(m))==null?void 0:le.decrementValue(h.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(te=>D(h.type,!1),["prevent"]),["enter"]),e.withKeys(e.withModifiers(te=>D(h.type,!1),["prevent"]),["space"])],onClick:te=>D(h.type,!1),ref_for:!0,ref:te=>T(te,Y,2)},[n.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[ea,ta],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ut),{key:1}))],64))],42,Fr)],64))],2)}),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",na,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:k,value:E.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:x,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(N=e.unref(m))==null?void 0:N.amPmButton,tabindex:"0",onClick:k,onKeydown:[e.withKeys(e.withModifiers(k,["prevent"]),["enter"]),e.withKeys(e.withModifiers(k,["prevent"]),["space"])]},e.toDisplayString(E.value),41,ra))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ee.value,(h,Y)=>(e.openBlock(),e.createBlock(e.Transition,{key:Y,name:e.unref(S)($[h.type]),css:e.unref(M)},{default:e.withCtx(()=>[$[h.type]?(e.openBlock(),e.createBlock(We,{key:0,items:A(h.type),"is-last":o.autoApply&&!o.keepActionRow,"esc-close":o.escClose,type:h.type,"text-input":o.textInput,"arrow-navigation":o.arrowNavigation,onSelected:F=>J(h.type,F),onToggle:F=>V(h.type),onResetFlow:I[0]||(I[0]=F=>o.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(st),{key:1}))]),_:2},[o.$slots[`${h.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:F})=>[e.renderSlot(o.$slots,`${h.type}-overlay-value`,{text:F.text,value:F.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","arrow-navigation","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),oa=["aria-label"],la=["tabindex"],sa=["aria-label"],Sn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},...$e},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:s,setTimePicker:l}=ve(),m=e.useSlots(),{defaultedTransitions:b,defaultedAriaLabels:w,defaultedTextInput:S}=pe(n),{transitionName:M,showTransition:$}=Ke(b),{hideNavigationButtons:E}=et(),x=e.ref(null),H=e.ref(null),Z=e.ref([]),R=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?s([ce(x.value)],"time"):l(!0,n.timePicker)});const y=e.computed(()=>n.range&&n.modelAuto?sn(n.internalModelValue):!0),_=e.ref(!1),z=p=>({hours:Array.isArray(n.hours)?n.hours[p]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[p]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[p]:n.seconds}),L=e.computed(()=>{const p=[];if(n.range)for(let V=0;V<2;V++)p.push(z(V));else p.push(z(0));return p}),B=(p,V=!1,f="")=>{V||a("reset-flow"),_.value=p,a(p?"overlay-opened":"overlay-closed"),n.arrowNavigation&&l(p),e.nextTick(()=>{f!==""&&Z.value[0]&&Z.value[0].openChildCmp(f)})},j=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:n.autoApply&&!n.keepActionRow})),W=De(m,"timePicker"),ee=(p,V,f)=>n.range?V===0?[p,L.value[1][f]]:[L.value[0][f],p]:p,g=p=>{a("update:hours",p)},C=p=>{a("update:minutes",p)},A=p=>{a("update:seconds",p)},K=()=>{if(R.value&&!S.value.enabled){const p=ar(R.value);p&&p.focus({preventScroll:!0})}};return r({toggleTimePicker:B}),(p,V)=>{var f;return e.openBlock(),e.createElementBlock("div",null,[!p.timePicker&&!p.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:e.normalizeClass(j.value),"aria-label":(f=e.unref(w))==null?void 0:f.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:x,onKeydown:[V[0]||(V[0]=e.withKeys(D=>B(!0),["enter"])),V[1]||(V[1]=e.withKeys(D=>B(!0),["space"]))],onClick:V[2]||(V[2]=D=>B(!0))},[p.$slots["clock-icon"]?e.renderSlot(p.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(st),{key:1}))],42,oa)),[[e.vShow,!e.unref(E)(p.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(M)(_.value),css:e.unref($)&&!p.timePickerInline},{default:e.withCtx(()=>{var D;return[_.value||p.timePicker||p.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass({dp__overlay:!p.timePickerInline,"dp--overlay-absolute":!n.timePicker&&!p.timePickerInline,"dp--overlay-relative":n.timePicker}),style:e.normalizeStyle(p.timePicker?{height:`${p.modeHeight}px`}:void 0),ref_key:"overlayRef",ref:R,tabindex:p.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(p.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[p.$slots["time-picker-overlay"]?e.renderSlot(p.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:g,setMinutes:C,setSeconds:A}):e.createCommentVNode("",!0),p.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(p.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(L.value,(u,k)=>e.withDirectives((e.openBlock(),e.createBlock(aa,e.mergeProps({key:k},{...p.$props,order:k,hours:u.hours,minutes:u.minutes,seconds:u.seconds,closeTimePickerBtn:H.value,disabledTimesConfig:t.disabledTimesConfig,disabled:k===0?p.fixedStart:p.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:Z,"onUpdate:hours":i=>g(ee(i,k,"hours")),"onUpdate:minutes":i=>C(ee(i,k,"minutes")),"onUpdate:seconds":i=>A(ee(i,k,"seconds")),onMounted:K,onOverlayClosed:K,onAmPmChange:V[3]||(V[3]=i=>p.$emit("am-pm-change",i))}),e.createSlots({_:2},[e.renderList(e.unref(W),(i,T)=>({name:i,fn:e.withCtx(J=>[e.renderSlot(p.$slots,i,e.normalizeProps(e.guardReactiveProps(J)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,k===0?!0:y.value]])),128))],2)),!p.timePicker&&!p.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:H,class:e.normalizeClass(j.value),"aria-label":(D=e.unref(w))==null?void 0:D.closeTimePicker,tabindex:"0",onKeydown:[V[4]||(V[4]=e.withKeys(u=>B(!1),["enter"])),V[5]||(V[5]=e.withKeys(u=>B(!1),["space"]))],onClick:V[6]||(V[6]=u=>B(!1))},[p.$slots["calendar-icon"]?e.renderSlot(p.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),p.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))],42,sa)),[[e.vShow,!e.unref(E)(p.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,la)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),$n=(t,r,a,n)=>{const s=(y,_)=>Array.isArray(r[y])?r[y][_]:r[y],l=y=>t.enableSeconds?Array.isArray(r.seconds)?r.seconds[y]:r.seconds:0,m=(y,_)=>y?_!==void 0?Be(y,s("hours",_),s("minutes",_),l(_)):Be(y,r.hours,r.minutes,l()):v(),b=(y,_)=>{r[y]=_},w=(y,_)=>{const z=Object.fromEntries(Object.keys(r).map(L=>L===y?[L,_]:[L,r[L]].slice()));if(t.range&&!t.disableTimeRangeValidation){const L=j=>a.value?Be(a.value[j],z.hours[j],z.minutes[j],z.seconds[j]):null,B=j=>c.setMilliseconds(a.value[j],0);return!(ae(L(0),L(1))&&(c.isAfter(L(0),B(1))||c.isBefore(L(1),B(0))))}return!0},S=(y,_)=>{w(y,_)&&(b(y,_),n&&n())},M=y=>{S("hours",y)},$=y=>{S("minutes",y)},E=y=>{S("seconds",y)},x=(y,_,z,L)=>{_&&M(y),!_&&!z&&$(y),z&&E(y),a.value&&L(a.value)},H=y=>{if(y){const _=Array.isArray(y),z=_?[+y[0].hours,+y[1].hours]:+y.hours,L=_?[+y[0].minutes,+y[1].minutes]:+y.minutes,B=_?[+y[0].seconds,+y[1].seconds]:+y.seconds;b("hours",z),b("minutes",L),t.enableSeconds&&b("seconds",B)}},Z=(y,_)=>{const z={hours:Array.isArray(r.hours)?r.hours[y]:r.hours,disabledArr:[]};return(_||_===0)&&(z.hours=_),Array.isArray(t.disabledTimes)&&(z.disabledArr=t.range&&Array.isArray(t.disabledTimes[y])?t.disabledTimes[y]:t.disabledTimes),z},R=e.computed(()=>(y,_)=>{var z;if(Array.isArray(t.disabledTimes)){const{disabledArr:L,hours:B}=Z(y,_),j=L.filter(W=>+W.hours===B);return((z=j[0])==null?void 0:z.minutes)==="*"?{hours:[B],minutes:void 0,seconds:void 0}:{hours:[],minutes:(j==null?void 0:j.map(W=>+W.minutes))??[],seconds:(j==null?void 0:j.map(W=>W.seconds?+W.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:b,updateHours:M,updateMinutes:$,updateSeconds:E,getSetDateTime:m,updateTimeValues:x,getSecondsValue:l,assignStartTime:H,disabledTimesConfig:R}},ia=(t,r)=>{const{modelValue:a,time:n}=Fe(t,r),{defaultedStartTime:s}=pe(t),{updateTimeValues:l,getSetDateTime:m,setTime:b,assignStartTime:w,disabledTimesConfig:S}=$n(t,n,a),M=()=>{t.range?a.value=[m(null,0),m(null,1)]:a.value=m(null)},$=R=>Array.isArray(R)?[Ne(v(R[0])),Ne(v(R[1]))]:[Ne(R??v())],E=(R,y,_)=>{b("hours",R),b("minutes",y),t.enableSeconds&&b("seconds",_)},x=()=>{const[R,y]=$(a.value);return t.range?E([R.hours,y.hours],[R.minutes,y.minutes],[R.seconds,y.minutes]):E(R.hours,R.minutes,R.seconds)};e.onMounted(()=>{if(!t.shadow)return w(s.value),a.value?x():M()});const H=()=>{Array.isArray(a.value)?a.value=a.value.map((R,y)=>R&&m(R,y)):a.value=m(a.value),r("time-update")};return{time:n,disabledTimesConfig:S,updateTime:(R,y=!0,_=!1)=>{l(R,y,_,H)}}},ua=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...$e},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{emit:r}){const a=t,n=e.useSlots(),s=De(n,"timePicker"),{time:l,disabledTimesConfig:m,updateTime:b}=ia(a,r);return(w,S)=>(e.openBlock(),e.createBlock(Et,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(Sn,e.mergeProps(w.$props,{hours:e.unref(l).hours,minutes:e.unref(l).minutes,seconds:e.unref(l).seconds,"internal-model-value":w.internalModelValue,"disabled-times-config":e.unref(m),"onUpdate:hours":S[0]||(S[0]=M=>e.unref(b)(M)),"onUpdate:minutes":S[1]||(S[1]=M=>e.unref(b)(M,!1)),"onUpdate:seconds":S[2]||(S[2]=M=>e.unref(b)(M,!1,!0)),onAmPmChange:S[3]||(S[3]=M=>w.$emit("am-pm-change",M))}),e.createSlots({_:2},[e.renderList(e.unref(s),(M,$)=>({name:M,fn:e.withCtx(E=>[e.renderSlot(w.$slots,M,e.normalizeProps(e.guardReactiveProps(E)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config"])]),_:3}))}}),ca={class:"dp__month_year_row"},da=["onClick","onKeydown","aria-label"],fa=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...$e},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaultedTransitions:s,defaultedAriaLabels:l,defaultedMultiCalendars:m,defaultedFilters:b}=pe(n),{transitionName:w,showTransition:S}=Ke(s),{buildMatrix:M}=ve(),{handleMonthYearChange:$,isDisabled:E,updateMonthYear:x}=Cr(n,a),{showLeftIcon:H,showRightIcon:Z}=et(),R=e.ref(!1),y=e.ref(!1),_=e.ref([null,null,null,null]);e.onMounted(()=>{a("mount")});const z=u=>({get:()=>n[u],set:k=>{const i=u===Me.month?Me.year:Me.month;a("update-month-year",{[u]:k,[i]:n[i]}),u===Me.month?A(!0):K(!0)}}),L=e.computed(z(Me.month)),B=e.computed(z(Me.year)),j=e.computed(()=>u=>({month:n.month,year:n.year,items:u===Me.month?n.months:n.years,instance:n.instance,updateMonthYear:x,toggle:u===Me.month?A:K})),W=e.computed(()=>{const u=n.months.find(k=>k.value===n.month);return u||{text:"",value:0}}),ee=e.computed(()=>Ve(n.months,u=>{const k=n.month===u.value,i=Le(u.value,fn(n.year,n.minDate),mn(n.year,n.maxDate))||b.value.months.includes(u.value);return{active:k,disabled:i}})),g=e.computed(()=>Ve(n.years,u=>{const k=n.year===u.value,i=Le(u.value,Ye(n.minDate),Ye(n.maxDate))||b.value.years.includes(u.value);return{active:k,disabled:i}})),C=(u,k)=>{k!==void 0?u.value=k:u.value=!u.value,u.value||a("overlay-closed")},A=(u=!1,k)=>{p(u),C(R,k)},K=(u=!1,k)=>{p(u),C(y,k)},p=u=>{u||a("reset-flow")},V=(u,k)=>{n.arrowNavigation&&(_.value[k]=ce(u),M(_.value,"monthYear"))},f=e.computed(()=>{var u,k;return[{type:Me.month,index:1,toggle:A,modelValue:L.value,updateModelValue:i=>L.value=i,text:W.value.text,showSelectionGrid:R.value,items:ee.value,ariaLabel:(u=l.value)==null?void 0:u.openMonthsOverlay},{type:Me.year,index:2,toggle:K,modelValue:B.value,updateModelValue:i=>B.value=i,text:n.year,showSelectionGrid:y.value,items:g.value,ariaLabel:(k=l.value)==null?void 0:k.openYearsOverlay}]}),D=e.computed(()=>n.disableYearSelect?[f.value[0]]:f.value);return r({toggleMonthPicker:A,toggleYearPicker:K,handleMonthYearChange:$}),(u,k)=>{var i,T,J;return e.openBlock(),e.createElementBlock("div",ca,[u.$slots["month-year"]?e.renderSlot(u.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(x),handleMonthYearChange:e.unref($),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(H)(e.unref(m),t.instance)&&!u.vertical?(e.openBlock(),e.createBlock(xe,{key:0,"aria-label":(i=e.unref(l))==null?void 0:i.prevMonth,disabled:e.unref(E)(!1),onActivate:k[0]||(k[0]=o=>e.unref($)(!1)),onSetRef:k[1]||(k[1]=o=>V(o,0))},{default:e.withCtx(()=>[u.$slots["arrow-left"]?e.renderSlot(u.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ot),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:u.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.value,(o,I)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:o.type},[e.createElementVNode("button",{type:"button",class:"dp__btn dp__month_year_select",onClick:o.toggle,onKeydown:[e.withKeys(e.withModifiers(o.toggle,["prevent"]),["enter"]),e.withKeys(e.withModifiers(o.toggle,["prevent"]),["space"])],"aria-label":o.ariaLabel,tabindex:"0",ref_for:!0,ref:N=>V(N,I+1)},[u.$slots[o.type]?e.renderSlot(u.$slots,o.type,e.normalizeProps(e.mergeProps({key:0},{text:o.text}))):e.createCommentVNode("",!0),u.$slots[o.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o.text),1)],64))],40,da),e.createVNode(e.Transition,{name:e.unref(w)(o.showSelectionGrid),css:e.unref(S)},{default:e.withCtx(()=>[o.showSelectionGrid?(e.openBlock(),e.createBlock(We,{key:0,items:o.items,"arrow-navigation":u.arrowNavigation,"hide-navigation":u.hideNavigation,"is-last":u.autoApply&&!u.keepActionRow,"skip-button-ref":!1,type:o.type,"header-refs":[],"esc-close":u.escClose,"text-input":u.textInput,onSelected:o.updateModelValue,onToggle:o.toggle},e.createSlots({"button-icon":e.withCtx(()=>[u.$slots["calendar-icon"]?e.renderSlot(u.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),u.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ze),{key:1}))]),_:2},[u.$slots[`${o.type}-overlay-val`]?{name:"item",fn:e.withCtx(({item:N})=>[e.renderSlot(u.$slots,`${o.type}-overlay-val`,{text:N.text,value:N.value})]),key:"0"}:void 0,u.$slots[`${o.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(u.$slots,`${o.type}-overlay`,e.normalizeProps(e.guardReactiveProps(j.value(o.type))))]),key:"1"}:void 0,u.$slots[`${o.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(u.$slots,`${o.type}-overlay-header`,{toggle:o.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","type","esc-close","text-input","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(H)(e.unref(m),t.instance)&&u.vertical?(e.openBlock(),e.createBlock(xe,{key:1,"aria-label":(T=e.unref(l))==null?void 0:T.prevMonth,disabled:e.unref(E)(!1),onActivate:k[2]||(k[2]=o=>e.unref($)(!1))},{default:e.withCtx(()=>[u.$slots["arrow-up"]?e.renderSlot(u.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(it),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(Z)(e.unref(m),t.instance)?(e.openBlock(),e.createBlock(xe,{key:2,ref:"rightIcon",disabled:e.unref(E)(!0),"aria-label":(J=e.unref(l))==null?void 0:J.nextMonth,onActivate:k[3]||(k[3]=o=>e.unref($)(!0)),onSetRef:k[4]||(k[4]=o=>V(o,u.disableYearSelect?2:3))},{default:e.withCtx(()=>[u.$slots[u.vertical?"arrow-down":"arrow-right"]?e.renderSlot(u.$slots,u.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),u.$slots[u.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(u.vertical?e.unref(ut):e.unref(lt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64))])}}}),ma=["aria-label"],pa={class:"dp__calendar_header",role:"row"},ga={key:0,class:"dp__calendar_header_item",role:"gridcell"},ha=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),ya=["aria-label"],ka={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},wa={class:"dp__cell_inner"},ba=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Ma=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...$e},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:s}=ve(),{defaultedTransitions:l,defaultedAriaLabels:m,defaultedMultiCalendars:b}=pe(n),w=e.ref(null),S=e.ref({bottom:"",left:"",transform:""}),M=e.ref([]),$=e.ref(null),E=e.ref(!0),x=e.ref(""),H=e.ref({startX:0,endX:0,startY:0,endY:0}),Z=e.ref([]),R=e.ref({left:"50%"}),y=e.computed(()=>n.calendar?n.calendar(n.mappedDates):n.mappedDates),_=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):tr(n.formatLocale,n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:M}),n.noSwipe||$.value&&($.value.addEventListener("touchstart",K,{passive:!1}),$.value.addEventListener("touchend",p,{passive:!1}),$.value.addEventListener("touchmove",V,{passive:!1})),n.monthChangeOnScroll&&$.value&&$.value.addEventListener("wheel",u,{passive:!1})});const z=i=>i?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",L=(i,T)=>{if(n.transitions){const J=ke(Se(v(),n.month,n.year));x.value=ge(ke(Se(v(),i,T)),J)?l.value[z(!0)]:l.value[z(!1)],E.value=!1,e.nextTick(()=>{E.value=!0})}},B=e.computed(()=>({[n.calendarClassName]:!!n.calendarClassName})),j=e.computed(()=>i=>{const T=rr(i);return{dp__marker_dot:T.type==="dot",dp__marker_line:T.type==="line"}}),W=e.computed(()=>i=>ae(i,w.value)),ee=e.computed(()=>({dp__calendar:!0,dp__calendar_next:b.value.count>0&&n.instance!==0})),g=e.computed(()=>i=>n.hideOffsetDates?i.current:!0),C=async(i,T,J)=>{var o,I;if(a("set-hover-date",i),(I=(o=i.marker)==null?void 0:o.tooltip)!=null&&I.length){const N=ce(M.value[T][J]);if(N){const{width:h,height:Y}=N.getBoundingClientRect();w.value=i.value;let F={left:`${h/2}px`},U=-50;if(await e.nextTick(),Z.value[0]){const{left:le,width:te}=Z.value[0].getBoundingClientRect();le<0&&(F={left:"0"},U=0,R.value.left=`${h/2}px`),window.innerWidth<le+te&&(F={right:"0"},U=0,R.value.left=`${te-h/2}px`)}S.value={bottom:`${Y}px`,...F,transform:`translateX(${U}%)`},a("tooltip-open",i.marker)}}},A=i=>{w.value&&(w.value=null,S.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",i.marker))},K=i=>{H.value.startX=i.changedTouches[0].screenX,H.value.startY=i.changedTouches[0].screenY},p=i=>{H.value.endX=i.changedTouches[0].screenX,H.value.endY=i.changedTouches[0].screenY,f()},V=i=>{n.vertical&&!n.inline&&i.preventDefault()},f=()=>{const i=n.vertical?"Y":"X";Math.abs(H.value[`start${i}`]-H.value[`end${i}`])>10&&a("handle-swipe",H.value[`start${i}`]>H.value[`end${i}`]?"right":"left")},D=(i,T,J)=>{i&&(Array.isArray(M.value[T])?M.value[T][J]=i:M.value[T]=[i]),n.arrowNavigation&&s(M.value,"calendar")},u=i=>{n.monthChangeOnScroll&&(i.preventDefault(),a("handle-scroll",i))},k=i=>{const T=i[0];return n.weekNumbers==="local"?c.getWeek(T.value,{weekStartsOn:+n.weekStart}):n.weekNumbers==="iso"?c.getISOWeek(T.value):typeof n.weekNumbers=="function"?n.weekNumbers(T.value):""};return r({triggerTransition:L}),(i,T)=>{var J;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(ee.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:$,role:"grid",class:e.normalizeClass(B.value),"aria-label":(J=e.unref(m))==null?void 0:J.calendarWrap},[(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",pa,[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",ga,e.toDisplayString(i.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(_.value,(o,I)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:I},[i.$slots["calendar-header"]?e.renderSlot(i.$slots,"calendar-header",{key:0,day:o,index:I}):e.createCommentVNode("",!0),i.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o),1)],64))]))),128))]),ha,e.createVNode(e.Transition,{name:x.value,css:!!i.transitions},{default:e.withCtx(()=>{var o;return[E.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":((o=e.unref(m))==null?void 0:o.calendarDays)||void 0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y.value,(I,N)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:N},[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",ka,[e.createElementVNode("div",wa,e.toDisplayString(k(I.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.days,(h,Y)=>{var F,U,le;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:te=>D(te,N,Y),key:Y+N,"aria-selected":h.classData.dp__active_date||h.classData.dp__range_start||h.classData.dp__range_start,"aria-disabled":h.classData.dp__cell_disabled||void 0,"aria-label":(U=(F=e.unref(m))==null?void 0:F.day)==null?void 0:U.call(F,h),tabindex:"0",onClick:e.withModifiers(te=>i.$emit("select-date",h),["stop","prevent"]),onKeydown:[e.withKeys(te=>i.$emit("select-date",h),["enter"]),e.withKeys(te=>i.$emit("handle-space",h),["space"])],onMouseenter:te=>C(h,N,Y),onMouseleave:te=>A(h)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",h.classData])},[i.$slots.day&&g.value(h)?e.renderSlot(i.$slots,"day",{key:0,day:+h.text,date:h.value}):e.createCommentVNode("",!0),i.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(h.text),1)],64)),h.marker&&g.value(h)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[i.$slots.marker?e.renderSlot(i.$slots,"marker",{key:0,marker:h.marker,day:+h.text,date:h.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(j.value(h.marker)),style:e.normalizeStyle(h.marker.color?{backgroundColor:h.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),W.value(h.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:Z,style:e.normalizeStyle(S.value)},[(le=h.marker)!=null&&le.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:T[0]||(T[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.marker.tooltip,(te,P)=>(e.openBlock(),e.createElementBlock("div",{key:P,class:"dp__tooltip_text"},[i.$slots["marker-tooltip"]?e.renderSlot(i.$slots,"marker-tooltip",{key:0,tooltip:te,day:h.value}):e.createCommentVNode("",!0),i.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(te.color?{backgroundColor:te.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(te.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(R.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,ba)}),128))]))),128))],8,ya)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64))],10,ma)],2)}}}),Bn=t=>Array.isArray(t),Da=(t,r,a,n)=>{const s=e.ref([]),{modelValue:l,calendars:m,time:b}=Fe(t,r),{defaultedMultiCalendars:w,defaultedStartTime:S}=pe(t),{validateMonthYearInRange:M,isDisabled:$,isDateRangeAllowed:E,checkMinMaxRange:x}=Ue(t),{updateTimeValues:H,getSetDateTime:Z,setTime:R,assignStartTime:y,disabledTimesConfig:_}=$n(t,b,l,n),z=e.computed(()=>d=>m.value[d]?m.value[d].month:0),L=e.computed(()=>d=>m.value[d]?m.value[d].year:0),B=(d,O,X)=>{var re,se;m.value[d]||(m.value[d]={month:0,year:0}),m.value[d].month=cn(O)?(re=m.value[d])==null?void 0:re.month:O,m.value[d].year=cn(X)?(se=m.value[d])==null?void 0:se.year:X},j=()=>{t.autoApply&&r("select-date")};e.watch(l,(d,O)=>{JSON.stringify(d)!==JSON.stringify(O)&&g()}),e.onMounted(()=>{t.shadow||(l.value||(i(),S.value&&y(S.value)),g(!0),t.focusStartDate&&t.startDate&&i())});const W=e.computed(()=>{var d;return(d=t.flow)!=null&&d.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),ee=()=>{t.autoApply&&W.value&&r("auto-apply",t.partialFlow)},g=(d=!1)=>{if(l.value)return Array.isArray(l.value)?(s.value=l.value,f(d)):A(l.value,d);if(w.value.count&&d&&!t.startDate)return C(v(),d)},C=(d,O=!1)=>{if((!w.value.count||!w.value.static||O)&&B(0,c.getMonth(d),c.getYear(d)),w.value.count)for(let X=1;X<w.value.count;X++){const re=c.set(v(),{month:z.value(X-1),year:L.value(X-1)}),se=c.add(re,{months:1});m.value[X]={month:c.getMonth(se),year:c.getYear(se)}}},A=(d,O)=>{C(d),R("hours",c.getHours(d)),R("minutes",c.getMinutes(d)),R("seconds",c.getSeconds(d)),w.value.count&&O&&k()},K=d=>w.value.count?Math.abs(c.differenceInMonths(d[0],d[1]))>=w.value.count?1:0:1,p=(d,O)=>{d[1]&&t.showLastInRange?C(d[K(d)],O):C(d[0],O);const X=(re,se)=>[re(d[0]),d[1]?re(d[1]):b[se][1]];R("hours",X(c.getHours,"hours")),R("minutes",X(c.getMinutes,"minutes")),R("seconds",X(c.getSeconds,"seconds"))},V=(d,O)=>{if((t.range||t.weekPicker)&&!t.multiDates)return p(d,O);if(t.multiDates){const X=d[d.length-1];return A(X,O)}},f=d=>{const O=l.value;V(O,d),w.value.count&&w.value.solo&&k()},D=(d,O)=>{const X=c.set(v(),{month:z.value(O),year:L.value(O)}),re=d<0?c.addMonths(X,1):c.subMonths(X,1);M(c.getMonth(re),c.getYear(re),d<0,t.preventMinMaxNavigation)&&(B(O,c.getMonth(re),c.getYear(re)),w.value.count&&!w.value.solo&&u(O),a())},u=d=>{for(let O=d-1;O>=0;O--){const X=c.subMonths(c.set(v(),{month:z.value(O+1),year:L.value(O+1)}),1);B(O,c.getMonth(X),c.getYear(X))}for(let O=d+1;O<=w.value.count-1;O++){const X=c.addMonths(c.set(v(),{month:z.value(O-1),year:L.value(O-1)}),1);B(O,c.getMonth(X),c.getYear(X))}},k=()=>{if(Array.isArray(l.value)&&l.value.length===2){const d=v(v(l.value[1]?l.value[1]:c.addMonths(l.value[0],1))),[O,X]=[c.getMonth(l.value[0]),c.getYear(l.value[0])],[re,se]=[c.getMonth(l.value[1]),c.getYear(l.value[1])];(O!==re||O===re&&X!==se)&&w.value.solo&&B(1,c.getMonth(d),c.getYear(d))}else l.value&&!Array.isArray(l.value)&&(B(0,c.getMonth(l.value),c.getYear(l.value)),C(v()))},i=()=>{t.startDate&&(B(0,c.getMonth(v(t.startDate)),c.getYear(v(t.startDate))),w.value.count&&u(0))},T=(d,O)=>{t.monthChangeOnScroll&&D(t.monthChangeOnScroll!=="inverse"?-d.deltaY:d.deltaY,O)},J=(d,O,X=!1)=>{t.monthChangeOnArrows&&t.vertical===X&&o(d,O)},o=(d,O)=>{D(d==="right"?-1:1,O)},I=d=>t.markers.find(O=>ae(pn(d.value),pn(O.date))),N=(d,O)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[d==0,!0];case"fair":return[d==0||O>d,!0];case"append":return[!1,!1];default:return[!1,!1]}},h=(d,O,X,re)=>{if(t.sixWeeks&&d.length<6){const se=6-d.length,Ae=(O.getDay()+7-re)%7,rt=6-(X.getDay()+7-re)%7,[qe,xt]=N(Ae,rt);for(let Re=1;Re<=se;Re++)if(xt?!!(Re%2)==qe:qe){const at=d[0].days[0],jt=Y(c.addDays(at.value,-7),c.getMonth(O));d.unshift({days:jt})}else{const at=d[d.length-1],jt=at.days[at.days.length-1],Ya=Y(c.addDays(jt.value,1),c.getMonth(O));d.push({days:Ya})}}return d},Y=(d,O)=>{const X=v(JSON.parse(JSON.stringify(d))),re=[];for(let se=0;se<7;se++){const Ae=c.addDays(X,se),Ge=c.getMonth(Ae)!==O;re.push({text:t.hideOffsetDates&&Ge?"":Ae.getDate(),value:Ae,current:!Ge,classData:{}})}return re},F=(d,O)=>{const X=[],re=v(Ce(new Date(O,d),t.timezone)),se=v(Ce(new Date(O,d+1,0),t.timezone)),Ae=t.weekStart,Ge=c.startOfWeek(re,{weekStartsOn:Ae}),rt=qe=>{const xt=Y(qe,d);if(X.push({days:xt}),!X[X.length-1].days.some(Re=>ae(ke(Re.value),ke(se)))){const Re=c.addDays(qe,7);rt(Re)}};return rt(Ge),h(X,re,se,Ae)},U=d=>(l.value=Je(v(d.value),t.timezone,t.weekStart),ee()),le=d=>{const O=Be(v(d.value),b.hours,b.minutes,nt());t.multiDates?Rt(O,l,t.multiDatesLimit):l.value=O,n(),e.nextTick().then(()=>{ee()})},te=d=>t.noDisabledRange?gn(s.value[0],d).some(X=>$(X)):!1,P=()=>{s.value=l.value?l.value.slice():[],s.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(s.value=[])},G=(d,O)=>{const X=[v(d.value),c.addDays(v(d.value),+t.autoRange)];E(X)&&(O&&ue(d.value),s.value=X)},ue=d=>{const O=c.getMonth(v(d)),X=c.getYear(v(d));if(B(0,O,X),w.value.count>0)for(let re=1;re<w.value.count;re++){const se=ur(c.set(v(d),{year:z.value(re-1),month:L.value(re-1)}));B(re,se.month,se.year)}},q=d=>Array.isArray(l.value)&&l.value.length===2?t.fixedStart&&(ge(d,l.value[0])||ae(d,l.value[0]))?[l.value[0],d]:t.fixedEnd&&(fe(d,l.value[1])||ae(d,l.value[1]))?[d,l.value[1]]:(r("invalid-fixed-range",d),l.value):[],we=d=>{te(d.value)||!x(d.value,l.value,t.fixedStart?0:1)||(s.value=q(v(d.value)))},de=(d,O)=>{if(P(),t.autoRange)return G(d,O);if(t.fixedStart||t.fixedEnd)return we(d);s.value[0]?x(v(d.value),l.value)&&!te(d.value)&&(fe(v(d.value),v(s.value[0]))?(s.value.unshift(v(d.value)),r("range-end",s.value[0])):(s.value[1]=v(d.value),r("range-end",s.value[1]))):(s.value[0]=v(d.value),r("range-start",s.value[0]))},nt=(d=!0)=>t.enableSeconds?Array.isArray(b.seconds)?d?b.seconds[0]:b.seconds[1]:b.seconds:0,je=d=>{s.value[d]=Be(s.value[d],b.hours[d],b.minutes[d],nt(d!==1))},It=()=>{var d,O;s.value[0]&&s.value[1]&&+((d=s.value)==null?void 0:d[0])>+((O=s.value)==null?void 0:O[1])&&(s.value.reverse(),r("range-start",s.value[0]),r("range-end",s.value[1]))},zt=()=>{s.value.length&&(s.value[0]&&!s.value[1]?je(0):(je(0),je(1),n()),It(),l.value=s.value.slice(),Vt(s.value,r,t.autoApply,t.modelAuto))},Lt=(d,O=!1)=>{if(!($(d.value)||!d.current&&t.hideOffsetDates)){if(t.weekPicker)return U(d);if(!t.range)return le(d);Bn(b.hours)&&Bn(b.minutes)&&!t.multiDates&&(de(d,O),zt())}},Ht=(d,O)=>{B(d,O.month,O.year),w.value.count&&!w.value.solo&&u(d),a(w.value.solo?d:void 0),n()},Kt=(d,O)=>{Array.isArray(d)&&d.length<=2&&t.range?l.value=d.map(X=>Ce(v(X),O?void 0:t.timezone)):Array.isArray(d)||(l.value=Ce(v(d),O?void 0:t.timezone)),j(),t.multiCalendars&&e.nextTick().then(()=>g(!0))},Ut=()=>{t.range?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=fe(v(),l.value[0])?[v(),l.value[0]]:[l.value[0],v()]:l.value=[v()]:l.value=v(),j()},Wt=()=>{if(Array.isArray(l.value))if(t.multiDates){const d=Q();l.value[l.value.length-1]=Z(d)}else l.value=l.value.map((d,O)=>d&&Z(d,O));else l.value=Z(l.value);r("time-update")},Q=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:m,modelValue:l,month:z,year:L,time:b,disabledTimesConfig:_,getCalendarDays:F,getMarker:I,handleScroll:T,handleSwipe:o,handleArrow:J,selectDate:Lt,updateMonthYear:Ht,presetDate:Kt,selectCurrentDate:Ut,updateTime:(d,O=!0,X=!1)=>{H(d,O,X,Wt)}}},Ca={key:0},Sa=e.defineComponent({__name:"DatePicker",props:{...$e},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position"],setup(t,{expose:r,emit:a}){const n=t,{calendars:s,month:l,year:m,modelValue:b,time:w,disabledTimesConfig:S,getCalendarDays:M,getMarker:$,handleArrow:E,handleScroll:x,handleSwipe:H,selectDate:Z,updateMonthYear:R,presetDate:y,selectCurrentDate:_,updateTime:z}=Da(n,a,u,k),L=e.useSlots(),{setHoverDate:B,getDayClassData:j,clearHoverDate:W}=Tr(b,n),{defaultedMultiCalendars:ee}=pe(n),g=e.ref([]),C=e.ref([]),A=e.ref(null),K=De(L,"calendar"),p=De(L,"monthYear"),V=De(L,"timePicker"),f=N=>{n.shadow||a("mount",N)};e.watch(s,()=>{n.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const D=e.computed(()=>N=>M(l.value(N),m.value(N)).map(h=>({...h,days:h.days.map(Y=>(Y.marker=$(Y),Y.classData=j(Y),Y))})));function u(N){var h;N||N===0?(h=C.value[N])==null||h.triggerTransition(l.value(N),m.value(N)):C.value.forEach((Y,F)=>Y.triggerTransition(l.value(F),m.value(F)))}function k(){a("update-flow-step")}const i=(N,h=!1)=>{Z(N,h),n.spaceConfirm&&a("select-date")};return r({clearHoverDate:W,presetDate:y,selectCurrentDate:_,toggleMonthPicker:(N,h,Y=0)=>{var F;(F=g.value[Y])==null||F.toggleMonthPicker(N,h)},toggleYearPicker:(N,h,Y=0)=>{var F;(F=g.value[Y])==null||F.toggleYearPicker(N,h)},toggleTimePicker:(N,h,Y)=>{var F;(F=A.value)==null||F.toggleTimePicker(N,h,Y)},handleArrow:E,updateMonthYear:R,getSidebarProps:()=>({modelValue:b,month:l,year:m,time:w,updateTime:z,updateMonthYear:R,selectDate:Z,presetDate:y})}),(N,h)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(Et,{"multi-calendars":e.unref(ee).count},{default:e.withCtx(({instance:Y,index:F})=>[N.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(fa,e.mergeProps({key:0,ref:U=>{U&&(g.value[F]=U)},months:e.unref(ln)(N.formatLocale,N.locale,N.monthNameFormat),years:e.unref(Ct)(N.yearRange,N.reverseYears),month:e.unref(l)(Y),year:e.unref(m)(Y),instance:Y},N.$props,{onMount:h[0]||(h[0]=U=>f(e.unref(_e).header)),onResetFlow:h[1]||(h[1]=U=>N.$emit("reset-flow")),onUpdateMonthYear:U=>e.unref(R)(Y,U),onOverlayClosed:h[2]||(h[2]=U=>N.$emit("focus-menu"))}),e.createSlots({_:2},[e.renderList(e.unref(p),(U,le)=>({name:U,fn:e.withCtx(te=>[e.renderSlot(N.$slots,U,e.normalizeProps(e.guardReactiveProps(te)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(Ma,e.mergeProps({ref:U=>{U&&(C.value[F]=U)},"mapped-dates":D.value(Y),month:e.unref(l)(Y),year:e.unref(m)(Y)},N.$props,{onSelectDate:U=>e.unref(Z)(U,Y!==1),onHandleSpace:U=>i(U,Y!==1),onSetHoverDate:h[3]||(h[3]=U=>e.unref(B)(U)),onHandleScroll:U=>e.unref(x)(U,Y),onHandleSwipe:U=>e.unref(H)(U,Y),onMount:h[4]||(h[4]=U=>f(e.unref(_e).calendar)),onResetFlow:h[5]||(h[5]=U=>N.$emit("reset-flow")),onTooltipOpen:h[6]||(h[6]=U=>N.$emit("tooltip-open",U)),onTooltipClose:h[7]||(h[7]=U=>N.$emit("tooltip-close",U))}),e.createSlots({_:2},[e.renderList(e.unref(K),(U,le)=>({name:U,fn:e.withCtx(te=>[e.renderSlot(N.$slots,U,e.normalizeProps(e.guardReactiveProps({...te})))])}))]),1040,["mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),N.enableTimePicker?(e.openBlock(),e.createElementBlock("div",Ca,[N.$slots["time-picker"]?e.renderSlot(N.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(w),updateTime:e.unref(z)}))):(e.openBlock(),e.createBlock(Sn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:A},N.$props,{hours:e.unref(w).hours,minutes:e.unref(w).minutes,seconds:e.unref(w).seconds,"internal-model-value":N.internalModelValue,"disabled-times-config":e.unref(S),onMount:h[8]||(h[8]=Y=>f(e.unref(_e).timePicker)),"onUpdate:hours":h[9]||(h[9]=Y=>e.unref(z)(Y)),"onUpdate:minutes":h[10]||(h[10]=Y=>e.unref(z)(Y,!1)),"onUpdate:seconds":h[11]||(h[11]=Y=>e.unref(z)(Y,!1,!0)),onResetFlow:h[12]||(h[12]=Y=>N.$emit("reset-flow")),onOverlayClosed:h[13]||(h[13]=Y=>N.$emit("time-picker-close")),onOverlayOpened:h[14]||(h[14]=Y=>N.$emit("time-picker-open",Y)),onAmPmChange:h[15]||(h[15]=Y=>N.$emit("am-pm-change",Y))}),e.createSlots({_:2},[e.renderList(e.unref(V),(Y,F)=>({name:Y,fn:e.withCtx(U=>[e.renderSlot(N.$slots,Y,e.normalizeProps(e.guardReactiveProps(U)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config"]))])):e.createCommentVNode("",!0)],64))}}),$a=["id","onKeydown"],Ba={key:0,class:"dp__sidebar_left"},Ta={key:1,class:"dp--preset-dates"},va=["onClick","onKeydown"],Aa={key:2,class:"dp__sidebar_right"},Na={key:3,class:"dp__action_extra"},Tn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...tt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(t,{expose:r,emit:a}){const n=t,s=e.computed(()=>{const{openOnTop:P,...G}=n;return{...G,flowStep:j.value}}),{setMenuFocused:l,setShiftKey:m,control:b}=bn(),w=e.useSlots(),{defaultedTextInput:S,defaultedInline:M}=pe(n),$=e.ref(null),E=e.ref(0),x=e.ref(null),H=e.ref(null),Z=e.ref(!1),R=e.ref(null);e.onMounted(()=>{if(!n.shadow){Z.value=!0,y(),window.addEventListener("resize",y);const P=ce(x);if(P&&!S.value.enabled&&!M.value.enabled&&(l(!0),A()),P){const G=ue=>{n.allowPreventDefault&&ue.preventDefault(),ue.stopImmediatePropagation(),ue.stopPropagation()};P.addEventListener("pointerdown",G),P.addEventListener("mousedown",G)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",y)});const y=()=>{const P=ce(H);P&&(E.value=P.getBoundingClientRect().width)},{arrowRight:_,arrowLeft:z,arrowDown:L,arrowUp:B}=ve(),{flowStep:j,updateFlowStep:W,childMount:ee,resetFlow:g}=vr(n,a,R),C=e.computed(()=>n.monthPicker?xr:n.yearPicker?Gr:n.timePicker?ua:Sa),A=()=>{const P=ce(x);P&&P.focus({preventScroll:!0})},K=()=>e.computed(()=>{var P;return(P=R.value)==null?void 0:P.getSidebarProps()}),p=()=>{n.openOnTop&&a("recalculate-position")},V=De(w,"action"),f=e.computed(()=>n.monthPicker||n.yearPicker?De(w,"monthYear"):n.timePicker?De(w,"timePicker"):De(w,"shared")),D=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),u=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),k=e.computed(()=>({dp__menu:!0,dp__menu_index:!M.value.enabled,dp__relative:M.value.enabled,[n.menuClassName]:!!n.menuClassName})),i=P=>{P.stopPropagation(),P.stopImmediatePropagation()},T=()=>{n.escClose&&a("close-picker")},J=P=>{if(n.arrowNavigation){if(P==="up")return B();if(P==="down")return L();if(P==="left")return z();if(P==="right")return _()}else P==="left"||P==="up"?Y("handleArrow","left",0,P==="up"):Y("handleArrow","right",0,P==="down")},o=P=>{m(P.shiftKey),!n.disableMonthYearSelect&&P.code==="Tab"&&P.target.classList.contains("dp__menu")&&b.value.shiftKeyInMenu&&(P.preventDefault(),P.stopImmediatePropagation(),a("close-picker"))},I=()=>{A(),a("time-picker-close")},N=P=>{var G,ue,q;(G=R.value)==null||G.toggleTimePicker(!1,!1),(ue=R.value)==null||ue.toggleMonthPicker(!1,!1,P),(q=R.value)==null||q.toggleYearPicker(!1,!1,P)},h=(P,G=0)=>{var ue,q,we;return P==="month"?(ue=R.value)==null?void 0:ue.toggleMonthPicker(!1,!0,G):P==="year"?(q=R.value)==null?void 0:q.toggleYearPicker(!1,!0,G):P==="time"?(we=R.value)==null?void 0:we.toggleTimePicker(!0,!1):N(G)},Y=(P,...G)=>{var ue,q;(ue=R.value)!=null&&ue[P]&&((q=R.value)==null||q[P](...G))},F=()=>{Y("selectCurrentDate")},U=(P,G)=>{Y("presetDate",P,G)},le=()=>{Y("clearHoverDate")};return r({updateMonthYear:(P,G)=>{Y("updateMonthYear",P,G)},switchView:h}),(P,G)=>{var ue;return e.openBlock(),e.createElementBlock("div",{id:P.uid?`dp-menu-${P.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:x,role:"dialog",class:e.normalizeClass(k.value),onMouseleave:le,onClick:i,onKeydown:[e.withKeys(T,["esc"]),G[14]||(G[14]=e.withKeys(e.withModifiers(q=>J("left"),["prevent"]),["left"])),G[15]||(G[15]=e.withKeys(e.withModifiers(q=>J("up"),["prevent"]),["up"])),G[16]||(G[16]=e.withKeys(e.withModifiers(q=>J("down"),["prevent"]),["down"])),G[17]||(G[17]=e.withKeys(e.withModifiers(q=>J("right"),["prevent"]),["right"])),o]},[(P.disabled||P.readonly)&&e.unref(M).enabled?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(u.value)},null,2)):e.createCommentVNode("",!0),!e.unref(M).enabled&&!P.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(D.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:H,class:e.normalizeClass({dp__menu_content_wrapper:((ue=P.presetDates)==null?void 0:ue.length)||!!P.$slots["left-sidebar"]||!!P.$slots["right-sidebar"]}),style:e.normalizeStyle({"--dp-menu-width":`${E.value}px`})},[P.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Ba,[e.renderSlot(P.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(K())))])):e.createCommentVNode("",!0),P.presetDates.length?(e.openBlock(),e.createElementBlock("div",Ta,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(P.presetDates,(q,we)=>(e.openBlock(),e.createElementBlock("div",{key:we,style:e.normalizeStyle(q.style||{}),class:"dp--preset-range"},[q.slot?e.renderSlot(P.$slots,q.slot,{key:0,presetDate:U,label:q.label,value:q.value}):(e.openBlock(),e.createElementBlock("div",{key:1,role:"button",tabindex:"0",onClick:de=>U(q.value,q.noTz),onKeydown:[e.withKeys(e.withModifiers(de=>U(q.value,q.noTz),["prevent"]),["enter"]),e.withKeys(e.withModifiers(de=>U(q.value,q.noTz),["prevent"]),["space"])]},e.toDisplayString(q.label),41,va))],4))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:$,role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(C.value),e.mergeProps({ref_key:"dynCmpRef",ref:R},s.value,{"flow-step":e.unref(j),onMount:e.unref(ee),onUpdateFlowStep:e.unref(W),onResetFlow:e.unref(g),onFocusMenu:A,onSelectDate:G[0]||(G[0]=q=>P.$emit("select-date")),onTooltipOpen:G[1]||(G[1]=q=>P.$emit("tooltip-open",q)),onTooltipClose:G[2]||(G[2]=q=>P.$emit("tooltip-close",q)),onAutoApply:G[3]||(G[3]=q=>P.$emit("auto-apply",q)),onRangeStart:G[4]||(G[4]=q=>P.$emit("range-start",q)),onRangeEnd:G[5]||(G[5]=q=>P.$emit("range-end",q)),onInvalidFixedRange:G[6]||(G[6]=q=>P.$emit("invalid-fixed-range",q)),onTimeUpdate:G[7]||(G[7]=q=>P.$emit("time-update")),onAmPmChange:G[8]||(G[8]=q=>P.$emit("am-pm-change",q)),onTimePickerOpen:G[9]||(G[9]=q=>P.$emit("time-picker-open",q)),onTimePickerClose:I,onRecalculatePosition:p,"onUpdate:internalModelValue":G[10]||(G[10]=q=>P.$emit("update:internal-model-value",q))}),e.createSlots({_:2},[e.renderList(f.value,(q,we)=>({name:q,fn:e.withCtx(de=>[e.renderSlot(P.$slots,q,e.normalizeProps(e.guardReactiveProps({...de})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),P.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Aa,[e.renderSlot(P.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(K())))])):e.createCommentVNode("",!0),P.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Na,[P.$slots["action-extra"]?e.renderSlot(P.$slots,"action-extra",{key:0,selectCurrentDate:F}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!P.autoApply||P.keepActionRow?(e.openBlock(),e.createBlock(Yr,e.mergeProps({key:2,"menu-mount":Z.value},s.value,{"calendar-width":E.value,onClosePicker:G[11]||(G[11]=q=>P.$emit("close-picker")),onSelectDate:G[12]||(G[12]=q=>P.$emit("select-date")),onInvalidSelect:G[13]||(G[13]=q=>P.$emit("invalid-select")),onSelectNow:F}),e.createSlots({_:2},[e.renderList(e.unref(V),(q,we)=>({name:q,fn:e.withCtx(de=>[e.renderSlot(P.$slots,q,e.normalizeProps(e.guardReactiveProps({...de})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],42,$a)}}}),Pa=typeof window<"u"?window:void 0,Yt=()=>{},_a=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Ea=(t,r,a,n)=>{if(!t)return Yt;let s=Yt;const l=e.watch(()=>e.unref(t),b=>{s(),b&&(b.addEventListener(r,a,n),s=()=>{b.removeEventListener(r,a,n),s=Yt})},{immediate:!0,flush:"post"}),m=()=>{l(),s()};return _a(m),m},Ra=(t,r,a,n={})=>{const{window:s=Pa,event:l="pointerdown"}=n;return s?Ea(s,l,b=>{const w=ce(t),S=ce(r);!w||!S||w===b.target||b.composedPath().includes(w)||b.composedPath().includes(S)||a(b)},{passive:!0}):void 0},Va=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...tt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(t,{expose:r,emit:a}){const n=t,s=e.useSlots(),l=e.ref(!1),m=e.toRef(n,"modelValue"),b=e.toRef(n,"timezone"),w=e.ref(null),S=e.ref(null),M=e.ref(null),$=e.ref(!1),E=e.ref(null),{setMenuFocused:x,setShiftKey:H}=bn(),{clearArrowNav:Z}=ve(),{mapDatesArrToMap:R,validateDate:y,isValidTime:_}=Ue(n),{defaultedTransitions:z,defaultedTextInput:L,defaultedInline:B}=pe(n),{menuTransition:j,showTransition:W}=Ke(z);e.onMounted(()=>{i(n.modelValue),e.nextTick().then(()=>{B.value.enabled||(f(E.value).addEventListener("scroll",Y),window.addEventListener("resize",F))}),B.value.enabled&&(l.value=!0)});const ee=e.computed(()=>R());e.onUnmounted(()=>{if(!B.value.enabled){const Q=f(E.value);Q&&Q.removeEventListener("scroll",Y),window.removeEventListener("resize",F)}});const g=De(s,"all",n.presetDates),C=De(s,"input");e.watch([m,b],()=>{i(m.value)},{deep:!0});const{openOnTop:A,menuStyle:K,xCorrect:p,setMenuPosition:V,getScrollableParent:f,shadowRender:D}=Sr(w,S,M,E,B,a,n),{inputValue:u,internalModelValue:k,parseExternalModelValue:i,emitModelValue:T,formatInputValue:J,checkBeforeEmit:o}=Dr(a,n,$),I=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:B.value.enabled,dp__flex_display_with_input:B.value.input})),N=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),h=e.computed(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:B.value.enabled}:{class:"dp__outer_menu_wrap"}),Y=()=>{l.value&&(n.closeOnScroll?de():V())},F=()=>{l.value&&V()},U=()=>{!n.disabled&&!n.readonly&&(D(Tn,n),V(!1),l.value=!0,l.value&&a("open"),l.value||we(),i(n.modelValue))},le=()=>{u.value="",we(),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),n.closeOnClearValue&&de()},te=()=>{const Q=k.value;return!Q||!Array.isArray(Q)&&y(Q)?!0:Array.isArray(Q)?Q.length===2&&y(Q[0])&&y(Q[1])?!0:n.partialRange&&!n.timePicker?y(Q[0]):!1:!1},P=()=>{o()&&te()?(T(),de()):a("invalid-select",k.value)},G=Q=>{ue(),T(),n.closeOnAutoApply&&!Q&&de()},ue=()=>{M.value&&L.value.enabled&&M.value.setParsedDate(k.value)},q=(Q=!1)=>{n.autoApply&&_(k.value)&&te()&&(n.range&&Array.isArray(k.value)?(n.partialRange||k.value.length===2)&&G(Q):G(Q))},we=()=>{L.value.enabled||(k.value=null)},de=()=>{B.value.enabled||(l.value&&(l.value=!1,p.value=!1,x(!1),H(!1),Z(),a("closed"),u.value&&i(m.value)),we(),a("blur"))},nt=(Q,ne)=>{if(!Q){k.value=null;return}k.value=Q,ne&&(P(),a("text-submit"))},je=()=>{n.autoApply&&_(k.value)&&T(),ue()},It=()=>l.value?de():U(),zt=Q=>{k.value=Q},Lt=()=>{L.value.enabled&&($.value=!0,J()),a("focus")},Ht=()=>{L.value.enabled&&($.value=!1,i(n.modelValue)),a("blur")},Kt=Q=>{S.value&&S.value.updateMonthYear(0,{month:un(Q.month),year:un(Q.year)})},Ut=Q=>{i(Q??n.modelValue)},Wt=(Q,ne)=>{var d;(d=S.value)==null||d.switchView(Q,ne)};return Ra(w,M,n.onClickOutside?()=>n.onClickOutside(te):de),r({closeMenu:de,selectDate:P,clearValue:le,openMenu:U,onScroll:Y,formatInputValue:J,updateInternalModelValue:zt,setMonthYear:Kt,parseModel:Ut,switchView:Wt}),(Q,ne)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(I.value),ref_key:"pickerWrapperRef",ref:E},[e.createVNode(_r,e.mergeProps({ref_key:"inputRef",ref:M,"is-menu-open":l.value,"input-value":e.unref(u),"onUpdate:inputValue":ne[0]||(ne[0]=d=>e.isRef(u)?u.value=d:null)},Q.$props,{onClear:le,onOpen:U,onSetInputDate:nt,onSetEmptyDate:e.unref(T),onSelectDate:P,onToggle:It,onClose:de,onFocus:Lt,onBlur:Ht,onRealBlur:ne[1]||(ne[1]=d=>$.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(C),(d,O)=>({name:d,fn:e.withCtx(X=>[e.renderSlot(Q.$slots,d,e.normalizeProps(e.guardReactiveProps(X)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),e.createVNode(e.Transition,{name:e.unref(j)(e.unref(A)),css:e.unref(W)&&!e.unref(B).enabled},{default:e.withCtx(()=>[l.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(Q.teleport?e.Teleport:"div"),e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:w},h.value,{class:{"dp--menu-wrapper":!e.unref(B).enabled},style:e.unref(B).enabled?void 0:e.unref(K)}),{default:e.withCtx(()=>[e.createVNode(Tn,e.mergeProps({ref_key:"dpMenuRef",ref:S,class:{[N.value]:!0,"dp--menu-wrapper":Q.teleport},style:Q.teleport?e.unref(K):void 0,"open-on-top":e.unref(A),"arr-map-values":ee.value},Q.$props,{"internal-model-value":e.unref(k),"onUpdate:internalModelValue":ne[2]||(ne[2]=d=>e.isRef(k)?k.value=d:null),onClosePicker:de,onSelectDate:P,onAutoApply:q,onTimeUpdate:je,onFlowStep:ne[3]||(ne[3]=d=>Q.$emit("flow-step",d)),onUpdateMonthYear:ne[4]||(ne[4]=d=>Q.$emit("update-month-year",d)),onInvalidSelect:ne[5]||(ne[5]=d=>Q.$emit("invalid-select",e.unref(k))),onInvalidFixedRange:ne[6]||(ne[6]=d=>Q.$emit("invalid-fixed-range",d)),onRecalculatePosition:e.unref(V),onTooltipOpen:ne[7]||(ne[7]=d=>Q.$emit("tooltip-open",d)),onTooltipClose:ne[8]||(ne[8]=d=>Q.$emit("tooltip-close",d)),onTimePickerOpen:ne[9]||(ne[9]=d=>Q.$emit("time-picker-open",d)),onTimePickerClose:ne[10]||(ne[10]=d=>Q.$emit("time-picker-close",d)),onAmPmChange:ne[11]||(ne[11]=d=>Q.$emit("am-pm-change",d)),onRangeStart:ne[12]||(ne[12]=d=>Q.$emit("range-start",d)),onRangeEnd:ne[13]||(ne[13]=d=>Q.$emit("range-end",d))}),e.createSlots({_:2},[e.renderList(e.unref(g),(d,O)=>({name:d,fn:e.withCtx(X=>[e.renderSlot(Q.$slots,d,e.normalizeProps(e.guardReactiveProps({...X})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])]),_:3},16,["class","style"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],2))}}),Ot=(()=>{const t=Va;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Ot},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(Ot[t]=r)}),Ot});
